---
layout: api3
title: API v3.0 Docs
---

<div data-spy="scroll" data-target="#api-nav" data-offset="40">

<!-- Start Content -->
<div class="api-element">
  <h2 class="top-padding2" id="top">API v3.0 Documentation </h2>
  <div class="alert alert-warning">
    <strong>This documentation is out of date!</strong>
    Please refer to the
    <a href="/api" class="alert-link" title="Link to our API v3.0 documentation">current documentation</a>
    for Version 3 of our API.
  </div>

  <h3 class="top-padding">Sending/Receiving Data</h3>
  <p>The API can send <span class="underlined">and</span> receive data in XML and JSON, as well as receive data as URL encoded query strings.</p>
  <p>To send and receive XML or JSON you need to include the correct content-type header and replace the .format in the url.</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Content-Type</td>
        <td>.format</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="name">JSON</td>
        <td>application/json</td>
        <td>.json</td>
      </tr>
      <tr>
        <td class="name">XML</td>
        <td>application/xml</td>
        <td>.xml</td>
      </tr>
    </tbody>
  </table>
  <p>When sending a <span class="post-text">POST</span>/<span class="put-text">PUT</span> request with an empty body you need to make sure that the content-length header is present and set to zero, otherwise the API will throw an error. This is handled for you by most HTTP or Network libraries in most languages but some such as Python don't set the content-length header when sending an empty request body.</p>
  <h3>Partial Updates</h3>
  <p>You can partially update or create resources through our API by including the value partial=1 in the <span class="post-text">POST</span>/<span class="put-text">PUT</span> request’s body or url query string. This is the equivalent of using the emerging RESTful API standard’s PATCH method.</p>
  <p>When creating a resource ‘partially’ using a <span class="post-text">POST</span> request you don’t need to include all of the resource’s fields. All fields will be automatically set to null if they aren’t included. Note that the <span class="post-text">POST</span> could still fail when partially creating a resource but not including the minimum required fields.</p>
  <p>When updating a resource ‘partially’ using a <span class="put-text">PUT</span> request any fields you don’t include will stay the same as before.</p>
  <div class="alert alert-danger">
    <strong>Warning:</strong> You need to exercise caution when updating sub resources of resources partially. If you tried only updating a contact’s phone numbers you need to include all phone numbers in the hash that you don’t want to be deleted, as we don’t extend the partial update feature to sub resources.
  </div>
  <h3> Beta Methods </h3>
  <p> Some methods are in Beta. You may find issues with these methods. Please post in our <a href="http://forum.developer.onepagecrm.com">Developer Forum</a> if you find any issues with these methods.
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="api-clients">API Clients</h2>
  <p>We have a number of API Clients available to help you quickly get started:</p>
  <ul>
    <li>Web <a href="/api_browser">API Browser</a>. The API Browser is currently limited to <code class="highlighter-rouge">GET</code> requests. Built in Angular.js and code available on <a href="https://github.com/OnePageCRM/OnePageCRM.github.io/tree/master/api_browser">Github</a></li>
    <li>Python Client available on <a href="https://pypi.python.org/pypi/onepagecrm/0.1.0">Pypi</a> and <a href="https://github.com/OnePageCRM/python_client">Github</a></li>
    <li>Basic Ruby Client available on <a href="https://rubygems.org/gems/onepagecrm">Rubygems</a> <a href="https://github.com/OnePageCRM/onepagecrm-gem">Github</a></li>
    <li>PHP authentication script on <a href="https://github.com/OnePageCRM/php-sample">Github</a></li>
    <li>Java Client on <a href="https://github.com/OnePageCRM/java-wrapper">Github</a></li>
    <li>PHP Client (work in progress) on <a href="https://packagist.org/packages/zipoking/onepagecrm-php-client">Packagist</a></li>
  </ul>
  <p>You can sign into these clients with your existing OnePageCRM account.</p>
  <p>If you don’t have a OnePageCRM account, you can <a href="https://app.onepagecrm.com/register">signup here</a>.</p>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="endpoint">API Endpoint</h2>
  <p>The API endpoint base url for all requests using the v3 API is:</p>
{% highlight http %}
https://app.onepagecrm.com/api/v3/
{% endhighlight %}
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="requestparams">Request Parameters</h2>
  <p>You can configure your requests with standard HTTP parameters.<br/>Just add them to HTTP query string for any request:</p>
  <p class="url">
    <code class="bluetext">
      <span class="get-text">GET</span> contacts.json?per_page=10&page=2
    </code>
  </p>
  <p>Or as part of HTTP request body for <span class="post-text">POST</span> and <span class="put-text">PUT</span> requests.</p>
  <p>This section outlines the main parameters. To see all parameters supported by a particular resource, please visit that resource's section.</p>
  <h3 id="paginating-responses"><span class="label label-default">GET</span>  Paginating Responses </h3>
  <p>Whenever you are fetching a list of records, you can paginate the response with these standard parameters:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">integer</code></td>
        <td class="nowrap"><code class="bluetext">page</code></td>
        <td>Page number. Starts from 1. Default is 1.</td>
      </tr>
      <tr>
        <td><code class="redtext">integer</code></td>
        <td><code class="bluetext">per_page</code></td>
        <td>Number of records to return. Maximum 100 allowed. Default is 10.</td>
      </tr>
    </tbody>
  </table>
  <p>So, for example, to fetch first batch of 20 contacts:</p>
  <p class="url"><code class="bluetext"><span class="get-text">GET</span> contacts.json?per_page=20&page=1</code></p>
  <p>To fetch second batch of 20 contacts, you would use:</p>
  <p class="url"><code class="bluetext"><span class="get-text">GET</span> contacts.json?per_page=20&page=2</code></p>
  <h3 id="specifying-the-fields-you-need"><span class="label label-default">GET</span> Specifying the Fields You Need </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">fields</code></td>
        <td>Comma-separated lists of fields to return for each record.</td>
      </tr>
    </tbody>
  </table>
  <p><code class="bluetext">fields </code>parameter allows you to exclude data you don't need from response, include additional data that is not returned by default, and/or include associated resources to the response.<br/>
  For detailed description of this parameter, see <a href="fields.html">Fields</a> section.</p>
  <h3 id="undoing-delete"><span class="label label-default">DELETE</span> Undoing a Delete </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">boolean</code></td>
        <td class="nowrap"><code class="bluetext">undo</code></td>
        <td>Revert the deleting operation.</td>
      </tr>
    </tbody>
  </table>
  <p>If you delete a contact or a tag with a <span class="delete-text">DELETE</span> request like this:</p>
  <p class="url"><code class="bluetext"><span class="delete-text">DELETE</span> contacts/51f251d5eb899749f7000006.json</code></p>
  <p>You can undo it by specifying an undo flag:</p>
  <p class="url"><code class="bluetext"><span class="delete-text">DELETE</span> contacts/51f251d5eb899749f7000006.json?undo=1</code></p>
  <h3 id="switching-active-user">
    <span class="label label-default">GET</span>
    <span class="label label-default">POST</span>
    <span class="label label-default">PUT</span> Switching Active User
  </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">user_id</code></td>
        <td>ID of a user on logged in user’s team.</td>
      </tr>
    </tbody>
  </table>
  <p>Whenever you want to do something on behalf of logged in user’s teammate, use <code class="bluetext">user_id</code> parameter.</p>
  <p>For example,</p>
  <p class="url"><code class="bluetext"><span class="get-text">GET</span> actions.json?user_id=51f251d5eb899749f7000006</code></p>
  <p>would get actions for user with specified ID.</p>
  <p>User ID specified in this parameter would also be used to populate any fields where otherwise logged in user’s ID would be default. For example, if you create a contact without specifying <code class="bluetext">owner_id</code>, but with <code class="bluetext">user_id</code> provided:</p>
  <p class="url"><code class="bluetext"><span class="post-text">POST</span> contacts.json?user_id=51f251d5eb899749f7000006&first_name=Jane&last_name=Doe</code></p>
  <h3 id="providing-partial-data">
    <span class="label label-default">POST</span>
    <span class="label label-default">PUT</span>
    Providing Partial Data
  </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">boolean</code></td>
        <td class="nowrap"><code class="bluetext">partial</code></td>
        <td>Ignore all missing fields.</td>
      </tr>
    </tbody>
  </table>
  <p>By default, all <span class="post-text">POST</span> and <span class="put-text">PUT</span> requests require all resource fields to be provided, otherwise throwing an error.<br/>
  With <code class="bluetext">partial</code> flag set, If you don't provide a field then for <span class="post-text">POST</span> requests it would be set to its default value (an empty string for most fields), and for <span class="put-text">PUT</span> requests it would remain its current value.</p>
  <p>For example the following request would update contact's name to Jane, leaving all other fields untouched:</p>
  <p class="url"><code class="bluetext"><span class="put-text">PUT</span> contacts/51f251d5eb899749f7000006.json?partial=1&first_name=Jane</code></p>
  <p>And here is how you can create a contact named Jane Doe with all other fields set to their default values:</p>
  <p class="url"><code class="bluetext"><span class="post-text">POST</span> contacts.json?partial=1&first_name=Jane&last_name=Doe</code></p>
  <div class="alert alert-danger">
  <strong>Warning:</strong> Beware that if you use this option, any fields that you misspell or accidentally leave out from request will be ignored and their values would be lost, without any warnings or errors. <br/>
  </div>
  <h3 id="limiting-listings-by-time"><span class="label label-default">GET</span> Limiting Listings By Time </h3>
  <p>When fetching collections, you can make them only return records that were modified in a given time range.</p>
  <br/>
  <table class="table table-striped table-bordered">
  <thead>
  <tr><th>Type</th><th>Name</th><th>Description</th></tr>
  </thead>
  <tbody>
  <tr><td><code class="redtext">time</code></td><td><code class="bluetext">date_filter</code></td><td>Filter returned data by a particular field when combined with since and until.</td></tr>
  <tr><td><code class="redtext">time</code></td><td><code class="bluetext">since</code></td><td>Return resources with dates in the provided date_filter parameter since this time. Otherwise it will return resources that were modified since this time.</td></tr>
  <tr><td><code class="redtext">time</code></td><td><code class="bluetext">until</code></td><td>Return resources with dates in the provided date_filter parameter until this time. Otherwise it will return resources that were modified until this time.</td></tr>
  <tr><td class="nowrap"><code class="redtext">time</code></td><td class="nowrap"><code class="bluetext">unmodified_since</code></td><td>Return only records that were unmodified since specified time.</td></tr>
  <tr><td><code class="redtext">time</code></td><td><code class="bluetext">modified_since</td><td>Return only records that were modified since specified time.</td></tr>
  </tbody>
  </table>
  <h3 id="avoiding-data-you-already-have"><span class="label label-default">GET</span> Avoiding Data You Already Have </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">if_modified_since</code></td>
        <td>Only return data if it <span class="italic">could</span> have been modified since specified time.</td>
      </tr>
    </tbody>
  </table>
  <p>This parameter is similar to HTTP “If-Unmodified-Since” header, and will result in HTTP 304 “Not Modified” status returned if the data was not modified since the specified time.</p>
  <p>Note that because of the complexity of our data, as well flexibility of API, if data is returned, it does not necessarily mean that it has been changed. If status 304 is returned however - it is guaranteed that the data has <span class="italic">not</span> been changed.</p>
  <h3 id="sorting-listings-by-field"><span class="label label-default">GET</span> Sorting Listings By Field </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">sort_by</code></td>
        <td>Name of field to sort results by (eg. 'email' or 'date').</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">order</code></td>
        <td><code> asc || desc </code></td>
      </tr>
    </tbody>
  </table>
  <p>
    Using these two fields you can sort the response by a specific field in either ascending or descending order. Ascending is the default order. Here is an example for sorting contacts by firstname in reverse alphabetical order:
  </p>
  <p class="url">
    <code class="bluetext">
      <span class="get-text">GET</span>
      contacts.json?sort_by=first_name&order=desc
    </code>
  </p>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="requestparams">Request Parameters</h2>
  <p>You can configure your requests with standard HTTP parameters.<br />Just add them to HTTP query string for any request:</p>
  <p class="url">
    <code class="bluetext">
      <span class="get-text">GET</span> contacts.json?per_page=10&amp;page=2
    </code>
  </p>
  <p>Or as part of HTTP request body for <span class="post-text">POST</span> and <span class="put-text">PUT</span> requests.</p>
  <p>This section outlines the main parameters. To see all parameters supported by a particular resource, please visit that resource's section.</p>
  <h3 id="paginating-responses"><span class="label label-default">GET</span>  Paginating Responses </h3>
  <p>Whenever you are fetching a list of records, you can paginate the response with these standard parameters:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">integer</code></td>
        <td class="nowrap"><code class="bluetext">page</code></td>
        <td>Page number. Starts from 1. Default is 1.</td>
      </tr>
      <tr>
        <td><code class="redtext">integer</code></td>
        <td><code class="bluetext">per_page</code></td>
        <td>Number of records to return. Maximum 100 allowed. Default is 10.</td>
      </tr>
    </tbody>
  </table>
  <p>So, for example, to fetch first batch of 20 contacts:</p>
  <p class="url"><code class="bluetext"><span class="get-text">GET</span> contacts.json?per_page=20&amp;page=1</code></p>
  <p>To fetch second batch of 20 contacts, you would use:</p>
  <p class="url"><code class="bluetext"><span class="get-text">GET</span> contacts.json?per_page=20&amp;page=2</code></p>
  <h3 id="specifying-the-fields-you-need"><span class="label label-default">GET</span> Specifying the Fields You Need </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">fields</code></td>
        <td>Comma-separated lists of fields to return for each record.</td>
      </tr>
    </tbody>
  </table>
  <p><code class="bluetext">fields </code>parameter allows you to exclude data you don't need from response, include additional data that is not returned by default, and/or include associated resources to the response.<br />
  For detailed description of this parameter, see <a href="fields.html">Fields</a> section.</p>
  <h3 id="undoing-delete"><span class="label label-default">DELETE</span> Undoing a Delete </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">boolean</code></td>
        <td class="nowrap"><code class="bluetext">undo</code></td>
        <td>Revert the deleting operation.</td>
      </tr>
    </tbody>
  </table>
  <p>If you delete a contact or a tag with a <span class="delete-text">DELETE</span> request like this:</p>
  <p class="url"><code class="bluetext"><span class="delete-text">DELETE</span> contacts/51f251d5eb899749f7000006.json</code></p>
  <p>You can undo it by specifying an undo flag:</p>
  <p class="url"><code class="bluetext"><span class="delete-text">DELETE</span> contacts/51f251d5eb899749f7000006.json?undo=1</code></p>

  <h3 id="switching-active-user">
    <span class="label label-default">GET</span>
    <span class="label label-default">POST</span>
    <span class="label label-default">PUT</span> Switching Active User
  </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">user_id</code></td>
        <td>ID of a user on logged in user’s team.</td>
      </tr>
    </tbody>
  </table>
  <p>Whenever you want to do something on behalf of logged in user’s teammate, use <code class="bluetext">user_id</code> parameter.</p>
  <p>For example,</p>
  <p class="url"><code class="bluetext"><span class="get-text">GET</span> actions.json?user_id=51f251d5eb899749f7000006</code></p>
  <p>would get actions for user with specified ID.</p>
  <p>User ID specified in this parameter would also be used to populate any fields where otherwise logged in user’s ID would be default. For example, if you create a contact without specifying <code class="bluetext">owner_id</code>, but with <code class="bluetext">user_id</code> provided:</p>
  <p class="url"><code class="bluetext"><span class="post-text">POST</span> contacts.json?user_id=51f251d5eb899749f7000006&amp;first_name=Jane&amp;last_name=Doe</code></p>
  <h3 id="providing-partial-data">
    <span class="label label-default">POST</span>
    <span class="label label-default">PUT</span>
    Providing Partial Data
  </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">boolean</code></td>
        <td class="nowrap"><code class="bluetext">partial</code></td>
        <td>Ignore all missing fields.</td>
      </tr>
    </tbody>
  </table>
  <p>By default, all <span class="post-text">POST</span> and <span class="put-text">PUT</span> requests require all resource fields to be provided, otherwise throwing an error.<br />
  With <code class="bluetext">partial</code> flag set, If you don't provide a field then for <span class="post-text">POST</span> requests it would be set to its default value (an empty string for most fields), and for <span class="put-text">PUT</span> requests it would remain its current value.</p>
  <p>For example the following request would update contact's name to Jane, leaving all other fields untouched:</p>
  <p class="url"><code class="bluetext"><span class="put-text">PUT</span> contacts/51f251d5eb899749f7000006.json?partial=1&amp;first_name=Jane</code></p>
  <p>And here is how you can create a contact named Jane Doe with all other fields set to their default values:</p>
  <p class="url"><code class="bluetext"><span class="post-text">POST</span> contacts.json?partial=1&amp;first_name=Jane&amp;last_name=Doe</code></p>
  <div class="alert alert-danger">
  <strong>Warning:</strong> Beware that if you use this option, any fields that you misspell or accidentally leave out from request will be ignored and their values would be lost, without any warnings or errors. <br />
  </div>
  <h3 id="limiting-listings-by-time"><span class="label label-default">GET</span> Limiting Listings By Time </h3>
  <p>When fetching collections, you can make them only return records that were modified in a given time range.</p>
  <p><br /></p>
  <table class="table table-striped table-bordered">
  <thead>
  <tr><th>Type</th><th>Name</th><th>Description</th></tr>
  </thead>
  <tbody>
  <tr><td><code class="redtext">time</code></td><td><code class="bluetext">date_filter</code></td><td>Filter returned data by a particular field when combined with since and until.</td></tr>
  <tr><td><code class="redtext">time</code></td><td><code class="bluetext">since</code></td><td>Return resources with dates in the provided date_filter parameter since this time. Otherwise it will return resources that were modified since this time.</td></tr>
  <tr><td><code class="redtext">time</code></td><td><code class="bluetext">until</code></td><td>Return resources with dates in the provided date_filter parameter until this time. Otherwise it will return resources that were modified until this time.</td></tr>
  <tr><td class="nowrap"><code class="redtext">time</code></td><td class="nowrap"><code class="bluetext">unmodified_since</code></td><td>Return only records that were unmodified since specified time.</td></tr>
  <tr><td><code class="redtext">time</code></td><td><code class="bluetext">modified_since&lt;/td&gt;<td>Return only records that were modified since specified time.</td</tr>
  </tbody>
  </table>
  <h3 id="avoiding-data-you-already-have"><span class="label label-default">GET</span> Avoiding Data You Already Have </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">if_modified_since</code></td>
        <td>Only return data if it <span class="italic">could</span> have been modified since specified time.</td>
      </tr>
    </tbody>
  </table>
  <p>This parameter is similar to HTTP “If-Unmodified-Since” header, and will result in HTTP 304 “Not Modified” status returned if the data was not modified since the specified time.</p>
  <p>Note that because of the complexity of our data, as well flexibility of API, if data is returned, it does not necessarily mean that it has been changed. If status 304 is returned however - it is guaranteed that the data has <span class="italic">not</span> been changed.</p>
  <h3 id="sorting-listings-by-field"><span class="label label-default">GET</span> Sorting Listings By Field </h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">sort_by</code></td>
        <td>Name of field to sort results by (eg. 'email' or 'date').</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">order</code></td>
        <td><code> asc || desc </code></td>
      </tr>
    </tbody>
  </table>
  <p>
    Using these two fields you can sort the response by a specific field in either ascending or descending order. Ascending is the default order. Here is an example for sorting contacts by firstname in reverse alphabetical order:
  </p>
  <p class="url">
    <code class="bluetext">
      <span class="get-text">GET</span>
      contacts.json?sort_by=first_name&amp;order=desc
    </code>
  </p>
  </code></td></tr></tbody></table
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="datatypes">Data Types</h2>
  <p>Our API works with following data types:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">string</code></td>
        <td>Text value. Leading and trailing spaces are removed.</td>
      </tr>
      <tr>
        <td><code class="redtext">bson_id</code></td>
        <td>Text value. This is a 24 character long string hexadecimal characters.</td>
      </tr>
      <tr>
        <td class="nowrap"><code class="redtext">boolean</code></td>
        <td>In JSON, booleans are represented natively, in other formats, 0 for false and 1 for true are used.</td>
      </tr>
      <tr>
        <td><code class="redtext">integer</code></td>
        <td>In XML, integers are marked with <code class="bluetext">type=”integer”</code> attribute.</td>
      </tr>
      <tr>
        <td><code class="redtext">float</code></td>
        <td>In XML, floats are marked with <code class="bluetext">type=”float”</code> attribute.</td>
      </tr>
      <tr>
        <td><code class="redtext">date</code></td>
        <td>Dates are represented as strings in ISO 8601 format: ‘yyyy-mm-dd’.<br />Note: in case of actions, dates can also be ‘asap’ (infinitely close date) or ‘waiting’ (infinitely far date).</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td>Unix time, number of seconds since January 1st, 1970 UTC or ISO8601, YYYY-MM-DDThh:mm:ss. <br />We accept Unix timestamp but we only send out ISO8601 formatted strings.</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td>Ordered list of values.<br />In XML, arrays are marked with <code class="bluetext">type=”array”</code> attribute.</td>
      </tr>
      <tr>
        <td><code class="redtext">hash</code></td>
        <td>Associative array.</td>
      </tr>
      <tr>
        <td><code class="redtext">null</code></td>
        <td>Means “no value” (as opposed to “unknown value”). Note that empty strings and empty dates are considered as values and both represented as empty strings.<br />In XML, nulls are marked with <code class="bluetext">nil=”true”</code> attribute.
        </td>
      </tr>
    </tbody>
  </table>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="responseformat">Response Format</h2>
  <p>Response can be sent in one of the following formats: JSON, XML</p>
  <p>You must specify the format to be used for each request in a form of file extension:</p>
  <p>
    <code class="bluetext">
      /contacts.json<br />
      /contacts.xml
    </code>
  </p>
  <p>Each response is a hash. Only response time and status fields are always present.</p>
  <h3 id="status-codes">HTTP Status Codes</h3>
  <p>Responses return with one of the following standard HTTP status codes:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Code</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="greentext strong">200</td>
        <td>OK - Operation successful.</td>
      </tr>
      <tr>
        <td class="redtext strong">400</td>
        <td>Bad Request. The request is not properly formatted, doesn’t properly specify response format or contains improper parameters or data.</td>
      </tr>
      <tr>
        <td class="redtext strong">401</td>
        <td>Unauthorised. Authorization data is absent, invalid or expired. Generally this means that a login form should be displayed to a user.</td>
      </tr>
      <tr>
        <td class="redtext strong">403</td>
        <td>Forbidden. Issued when user is logged in, but does not have permission for requested operation. This includes cases when user has reached limits like allowed number of contacts.</td>
      </tr>
      <tr>
        <td class="redtext strong">404</td>
        <td>Resource Not Found. When an id was provided for a request but no resource exists for that object.</td>
      </tr>
      <tr>
      <td class="redtext strong">409</td>
      <td>Precondition Failed. Server state does not allow requested operation to be carried on. Issued in cases such as when trying to add an assigned next action to a contact which already has one
        assigned for a user.</td>
      </tr>
      <tr>
        <td class="redtext strong">500</td>
        <td>Internal Server Error.</td>
      </tr>
    </tbody>
  </table>
  <p>The five error codes represent five main types of failures:</p>
  <ul>
    <li>Code <span class="redtext strong">400</span> means a problem is in your implementation. Fault is on you.</li>
    <li>Code <span class="redtext strong">401</span> means user just needs to login. Generally, fault is on no one.</li>
    <li>Code <span class="redtext strong">403</span> means operation is forbidden for a user. Fault is on user. Although in some cases, you could have prevented this by not sending the request in the first place.</li>
    <li>Code <span class="redtext strong">409</span> means the stars were not aligned for this to happen. Sometimes you could have foreseen it, sometimes not.</li>
    <li>Code <span class="redtext strong">500</span> means server messed up. Fault is on us.</li>
  </ul>
  <h3 id="base-fields">Base Fields</h3>
  <p>Following fields are present in every response.</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">integer</code></td>
        <td><code class="bluetext">status</code></td>
        <td>Duplication of HTTP response status for convenience</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td class="nowrap"><code class="bluetext">timestamp</code></td>
        <td>Time of response</td>
      </tr>
    </tbody>
  </table>
  <h3 id="failed-requests">Failed Requests</h3>
  <p>These fields are present if a request has failed with a Client Error status (4xx).</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td><code class="bluetext">error_name</code></td>
        <td>Short description of a failure to be used in your failure handling codes.
          You can see full lists of possible errors in every resource's section.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">error_message</code></td>
        <td>Human-readable description of a failure (meant for developers)</td>
        </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">more_info</code></td>
        <td>URL to documentation page describing the failure</td>
      </tr>
    </tbody>
  </table>
  <h3 id="suppress-http-status">Suppress HTTP Response Status</h3>
  <p>You can suppress the HTTP response status if required by adding a <code class="highlighter-rouge">suppress_http_status=1</code> parameter to the end of your call. This will return a HTTP status of <code class="highlighter-rouge">200</code>, but the response body will contain response codes and error detail.</p>
  <p>For example the following request for a non existing contact will return HTTP status <code class="highlighter-rouge">404</code>.</p>
{% highlight http %}
https://app.onepagecrm.com/api/v3/contacts/1341.json
{% endhighlight %}
  <p>By adding the <code class="highlighter-rouge">suppress_http_status=1</code> parameter, the call will return HTTP status <code class="highlighter-rouge">200</code>.</p>
{% highlight http %}
https://app.onepagecrm.com/api/v3/contacts/1341.json?suppress_http_status=1
{% endhighlight %}
  <p>Both requests will return the same body response:</p>
{% highlight json %}
{
  "status": 404,
  "message": "Resource not found",
  "error_name": "resource_not_found",
  "error_message": "Couldn't find contact for id, .\nThe contact may have been deleted or you may have used the wrong id"
}
{% endhighlight %}
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="auth">Authentication</h2>
  <p>These methods allow you to gain access to to your account by providing you with an auth key in exchange for valid login credentials. There are also methods for logging out, changing your password and changing your auth key.</p>
  <h3 id="login">Login</h3>
  <h4 id="login-urls">URLs</h4>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="post-text strong">POST</td>
        <td><code>login.format</code></td>
        <td>Log in to your OnePageCRM account</td>
      </tr>
      <tr>
        <td class="get-text strong">GET</td>
        <td><code>bootstrap.format</code></td>
        <td>Get all the data that is returned with a login request</td>
      </tr>
    </tbody>
  </table>
  <h4 id="login-request-fields">Request Fields</h4>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>string</code></td>
        <td><code>login</code></td>
        <td>Email address of user logging in</td>
      </tr>
      <tr>
        <td><code>string</code></td>
        <td><code>password</code></td>
        <td>Password of the user logging in</td>
      </tr>
    </tbody>
  </table>
  <h4 id="login-resource-fields">Resource Fields</h4>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>string</code></td>
    <td><code>auth_key</code></td>
    <td>This is a base64 encoded string that you must use to sign
      further api requests.</td>
    </tr>
    <tr>
      <td><code>string</code></td>
      <td><code>user_id</code></td>
      <td>ID of the user</td>
    </tr>
    <tr>
      <td><code>string</code></td>
      <td><code>account_type</code></td>
      <td>Which type of account the user has. This will be one of:
        <strong>free</strong>, <strong>pro</strong> or <strong>trial</strong>.</td>
    </tr>
    <tr>
      <td><code>array</code></td>
      <td><code>custom_fields</code></td>
      <td>A list of custom field objects that the user has.
        For more information visit the custom fields documentation page.</td>
      </tr>
      <tr>
        <td><code>array</code></td>
        <td><code>filters</code></td>
        <td>User’s list of custom filters</td>
      </tr>
      <tr>
        <td><code>object</code></td>
        <td><code>user</code></td>
        <td>User’s first name, last name, email, bcc email, company name and account rights. For more information visit the user documentation page.</td>
      </tr>
      <tr>
        <td><code>array</code></td>
        <td><code>team</code></td>
        <td>A list of other users on the above user’s team. Each item is a user resource. For more information visit the user documentation page.</td>
      </tr>
      <tr>
        <td><code>object</code></td>
        <td><code>settings</code></td>
        <td>User's date format, reminders, currency, timezone, default contact type, popular countries, contacts listing size and deal stages.</td>
      </tr>
      <tr>
        <td><code>array</code></td>
        <td><code>company_fields</code></td>
        <td>A list of company's custom fields object.</td>
      </tr>
      <tr>
        <td><code>array</code></td>
        <td><code>call_results</code></td>
        <td>A list of call result types.</td>
      </tr>
      <tr>
        <td><code>array</code></td>
        <td><code>next_action_dates</code></td>
        <td>A list of custom dates for an action.</td>
      </tr>
      <tr>
        <td><code>array</code></td>
        <td><code>contact_titles</code></td>
        <td>A list of contact titles. Only available if this option is enabled by the user.</td>
      </tr>
      <tr>
        <td><code>array</code></td>
        <td><code>predefined_actions</code></td>
        <td>A list of generic actions configured by the user. The tag <strong>[Firstname]</strong> should be replaced by the contact's first name.</td>
      </tr>
    </tbody>
  </table>
  <h4 id="login-additional-data">Additional data</h4>
  <p>When logging in you will also receive additional data which provides information about a user’s account. This information includes statuses, lead sources, tags, sales data, team stream. This information is returned outside of the data object.</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>array</code></td>
        <td><code>statuses</code></td>
        <td>List of status resources for the user’s account</td>
      </tr>
      <tr>
        <td><code>array</code></td>
        <td><code>tags</code></td>
        <td>List of tag resources for the user’s account</td>
      </tr>
      <tr>
        <td><code>array</code></td>
        <td><code>lead_sources</code></td>
        <td>List of lead sources for the user’s account</td>
      </tr>
      <tr>
        <td><code>hash</code></td>
        <td><code>team_stream</code></td>
        <td>
          Every item is a <span>hash</span> with 2 elements:
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <td>Type</td>
                <td>Name</td>
                <td>Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>array</code></td>
                <td><code>users</code></td>
                <td>
                  Every item is a <span>hash</span> with 2 elements:
                  <table class="table table-striped table-bordered">
                    <thead>
                      <tr>
                        <td>Type</td>
                        <td>Name</td>
                        <td>Description</td>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td><code>bson_id</code></td>
                        <td><code>user_id</code></td>
                        <td>id for user on this team</td>
                      </tr>
                      <tr>
                        <td><code>int</code></td>
                        <td><code>counts</code></td>
                        <td>total number of contacts the above user owns or has actions for.</td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
              <tr>
                <td><code>int</code></td>
                <td><code>all</code></td>
                <td>total number of contacts this team has</td>
              </tr>
            </tbody>
          </table>
          This is used to convert the ‘<strong>stage</strong>’ field of deals into a string.
        </td>
      </tr>
      <tr>
        <td><code>hash</code></td>
        <td><code>contacts_count</code></td>
        <td>
          This returns the number of total number of contacts, for each user and for the whole team, arranged by how many contacts have a last name beginning with each letter of the alphabet. Every item is a <span>hash</span> with 2 elements:
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <td>Type</td>
                <td>Name</td>
                <td>Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>array</code></td>
                <td><code>users</code></td>
                <td>
                  Every item is a <span>hash</span> with 28 elements:
                  <table class="table table-striped table-bordered">
                    <thead>
                      <tr>
                        <td>Type</td>
                        <td>Name</td>
                        <td>Description</td>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td><code>bson_id</code></td>
                        <td><code>user_id</code></td>
                        <td>id for user on this team</td>
                      </tr>
                      <tr>
                        <td><code>int</code></td>
                        <td><code>total_count</code></td>
                        <td>total number of contacts the above user owns.</td>
                      </tr>
                      <tr>
                        <td><code>int</code></td>
                        <td><code>1</code></td>
                        <td>number of contacts with last name beginning with a number or special character</td>
                      </tr>
                      <tr>
                        <td><code>int</code></td>
                        <td><code>a</code></td>
                        <td>number of contacts with last name beginning with ‘a‘</td>
                      </tr>
                      <tr>
                        <td>&nbsp;</td>
                        <td><code>...</code></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td><code>int</code></td>
                        <td><code>z</code></td>
                        <td>number of contacts with last name beginning with ‘z’</td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
              <tr>
                <td><code>hash</code></td>
                <td><code>all</code></td>
                <td>
                  Every item is a <span>hash</span> with 27 elements:
                  <table class="table table-striped table-bordered">
                    <thead>
                      <tr>
                        <td>Type</td>
                        <td>Name</td>
                        <td>Description</td>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td><code>bson_id</code></td>
                        <td><code>user_id</code></td>
                        <td>id for user on this team</td>
                      </tr>
                      <tr>
                        <td><code>int</code></td>
                        <td><code>total_count</code></td>
                        <td>total number of contacts the team has</td>
                      </tr>
                      <tr>
                        <td><code>int</code></td>
                        <td><code>1</code></td>
                        <td>number of contacts with last name beginning with a number or special character</td>
                      </tr>
                      <tr>
                        <td><code>int</code></td>
                        <td><code>a</code></td>
                        <td>number of contacts with last name beginning with ‘a’</td>
                      </tr>
                      <tr>
                        <td>&nbsp;</td>
                        <td><code>...</code></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td><code>int</code></td>
                        <td><code>z</code></td>
                        <td>number of contacts with last name beginning with ‘z’</td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
            </tbody>
          </table>
        </td>
      </tr>
      <tr>
        <td><code>hash</code></td>
        <td><code>sales</code></td>
        <td>
          Every item is a <span>hash</span> with 4 elements:
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <td>Type</td>
                <td>Name</td>
                <td>Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>float</code></td>
                <td><code>target</code></td>
                <td>total sum of money targeted until the expiry date</td>
              </tr>
              <tr>
                <td><code>float</code></td>
                <td><code>won</code></td>
                <td>total sum of money won since the start this periods</td>
              </tr>
              <tr>
                <td><code>float</code></td>
                <td><code>pending</code></td>
                <td>total sum of money in pending deals</td>
              </tr>
              <tr>
                <td><code>date</code></td>
                <td><code>expires</code></td>
                <td>date when the target expires</td>
              </tr>
            </tbody>
          </table>
          This is used to convert the ‘<strong>stage</strong>’ field of deals into a string.
        </td>
      </tr>
    </tbody>
  </table>
  <h3 id="logout">Logout</h3>
  <h4 id="logout-urls">URLs</h4>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="get-text">GET</td>
        <td><code>logout.format</code></td>
        <td>Invalidate auth key</td>
      </tr>
    </tbody>
  </table>
  <div class="alert alert-danger">
    <strong>Warning:</strong> This will log the user out of all applications the user has logged into using this auth key. If you wish to log a user out just forget their auth key.<br /><span class="italic">Note: this includes the mobile application.</span>
  </div>
  <h3 id="change-auth-key">Change Auth Key</h3>
  <h4 id="auth-key-urls">URLs</h4>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="get-text">GET</td>
        <td><code>change_auth_key.format</code></td>
        <td>Invalidate auth key and return a new auth key</td>
      </tr>
    </tbody>
  </table>
  <div class="alert alert-danger">
    <strong>Warning:</strong> This will log the user out of all applications the user has logged into using this auth key. If you wish to log a user out just forget their auth key.<br /><span class="italic">Note: this includes the mobile application.</span>
  </div>
  <h4 id="auth-key-resource-fields">Resource Fields</h4>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>string</code></td>
        <td><code>auth_key</code></td>
        <td>
          This is a base64 encoded string that you must use to sign further api requests.
        </td>
      </tr>
    </tbody>
  </table>
  <h3 id="sample-code">Sample code</h3>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" href="#bootstrapjson">
          Sample <code> GET </code> response from <code>bootstrap.json</code>
        </a>
      </h4>
    </div>
    <div id="bootstrapjson" class="panel-collapse collapse">
      <div class="panel-body">
{% highlight json %}
{
  "status": 0,
  "message": "OK",
  "timestamp": 1411038598,
  "data": {
    "user_id": "540586ae12321312300391",
    "auth_key": "asdfasdfasfwer/rwerwrwfad=",
    "account_type": "trial",
    "custom_fields": [
      {
        "custom_field": {
          "id": "541067771da41730b50007d3",
          "name": "Select Box CF",
          "type": "select_box",
          "choices": [
            "A",
            "B",
            "C",
            "D"
          ],
          "position": 0,
          "reminder_days": null
        }
      }
    ],
    "team": [],
    "settings": {
      "reminder": {
        "type": "new_task",
        "hour": 6
      },
      "time_zone": "london",
      "date_format": "%m/%d/%Y",
      "listing_size": 25,
      "currency": "USD",
      "currency_symbol": "$",
      "popular_countries": [
        "US",
        "IE",
        "AE",
        "AO",
        "AF"
      ],
      "deal_stages": [
        {
          "stage": 10,
          "label": "Qualification"
        },
        {
          "stage": 25,
          "label": null
        },
        {
          "stage": 50,
          "label": "Decision"
        },
        {
          "stage": 75,
          "label": null
        },
        {
          "stage": 90,
          "label": "Negotiation"
        }
      ],
      "default_contact_type": "company"
    },
    "user": {
      "user": {
        "id": "540586ae1da41731e2000391",
        "first_name": "Johnny",
        "last_name": "Bravo",
        "email": "jb@cartoonnetwork.com",
        "company_name": "Cartoon Network",
        "photo_url": "",
        "bcc_email": "540586b41da41731e2000394@users.onepagecrm.com",
        "account_rights": []
      }
    }
  },
  "tags": {
    "tags": [
      {
        "name": "VIP",
        "counts": 2,
        "total_count": 2,
        "action_stream_count": 2
      }
    ],
    "system_tags": [
      {
        "name": "pendings",
        "counts": 0,
        "total_count": 0
      },
      {
        "name": "starred",
        "counts": 0,
        "total_count": 0
      },
      {
        "name": "waiting",
        "counts": 0,
        "total_count": 0
      }
    ]
  },
  "statuses": [
    {
      "status": {
        "counts": 28,
        "total_count": 28,
        "team_counts": [
          {
            "user_id": "540586ae1da41731e2000391",
            "counts": 28
          }
        ],
        "id": "540586b41da41731e2000395",
        "status": "lead",
        "text": "Lead",
        "description": "",
        "color": "f96600",
        "action_stream_count": 28
      }
    }
  ],
  "sales": {
    "target": 5000,
    "won": 0,
    "pending": 0,
    "expires": "2014-09-30"
  },
  "team_stream": {
    "users": [
      {
        "user_id": "540586ae1da41731e2000391",
        "counts": 28
      }
    ],
    "all": 28
  },
  "lead_sources": [
    {
      "counts": 0,
      "total_count": 0,
      "team_counts": [
        {
          "user_id": "540586ae1da41731e2000391",
          "counts": 0
        }
      ],
      "id": "advertisement",
      "text": "Advertisement"
    }
  ],
  "contacts_count": {
    "all": {
      "1": 0,
      "a": 1,
      "b": 1,
      "c": 1,
      "d": 4,
      "e": 3,
      "f": 1,
      "g": 0,
      "h": 2,
      "i": 0,
      "j": 1,
      "k": 2,
      "l": 2,
      "m": 2,
      "n": 1,
      "o": 1,
      "p": 2,
      "q": 0,
      "r": 0,
      "s": 2,
      "t": 0,
      "u": 2,
      "v": 0,
      "w": 0,
      "x": 0,
      "y": 0,
      "z": 0,
      "total_count": 28
    },
    "users": [
      {
        "1": 0,
        "user_id": "540586ae1da41731e2000391",
        "a": 1,
        "b": 1,
        "c": 1,
        "d": 4,
        "e": 3,
        "f": 1,
        "g": 0,
        "h": 2,
        "i": 0,
        "j": 1,
        "k": 2,
        "l": 2,
        "m": 2,
        "n": 1,
        "o": 1,
        "p": 2,
        "q": 0,
        "r": 0,
        "s": 2,
        "t": 0,
        "u": 2,
        "v": 0,
        "w": 0,
        "x": 0,
        "y": 0,
        "z": 0,
        "total_count": 28
      }
    ]
  }
}
{% endhighlight %}
      </div>
    </div>
  </div>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="signing">Signing Process</h2>
  <h3 id="header-parameters">Header Parameters</h3>
  <p>These parameters need to be included with every request made to the API other than the initial call to <code class="bluetext">login.format</code>.</p>
  <table class="table table-bordered table-striped">
    <thead>
      <td>Parameters</td>
      <td>Description</td>
    </thead>
    <tbody>
      <tr>
        <td class="strong nowrap">X-OnePageCRM-UID</td>
        <td>The user’s unique identification number(<code class="bluetext">user_id</code>), received after sending email and password to <code class="bluetext">login.format</code>.</td>
      </tr>
      <tr>
        <td class="strong nowrap">X-OnePageCRM-TS</td>
        <td>The current timestamp in unix time (in seconds)</td>
      </tr>
      <tr>
        <td class="strong nowrap">X-OnePageCRM-Auth</td>
        <td>SHA-256 of the authentication signature calculated for every request based on the data sent.</td>
      </tr>
    </tbody>
  </table>
  <div class="alert alert-danger">
  <strong>Warning:</strong> These headers are case sensitive! If you do not send these headers exactly as they appear here you will obtain a <strong>"401 Unauthorized"</strong> error when making signed requests.
  </div>
  <h3 id="authentication-signature">Authentication Signature</h3>
  <p>The signing process ensures that all API requests are secure, using a similar signing process to the OAuth standard. It is based on 5 separate variables:</p>
  <ol>
    <li>The <code class="bluetext">user_id</code> received from <code class="bluetext">login.format</code>.</li>
    <li>The current unix timestamp in seconds. This has to be the same as the value in the header field <strong>X-OnePageCRM-TS.</strong></li>
    <li>The http request method name as an uppercase string, either “<span class="get-text">GET</span>”, “<span class="post-text">POST</span>”, “<span class="put-text">PUT</span>” or “<span class="delete-text">DELETE</span>”.</li>
    <li>The SHA-1 hash of the full request url, written as a lowercase hex string.</li>
    <li>The SHA-1 hash of the raw request body. This is left out for <span class="get-text">GET</span> or <span class="delete-text">DELETE</span> requests.</li>
  </ol>

  <h3 id="calculating-request-signature-value">Calculating request signature value</h3>
  <p>The Request signature is a HMAC-SHA256 hash (written in hex using lowercase for a-f) of a string which consists of 4 (for <span class="get-text">GET</span> and <span class="delete-text">DELETE</span> requests) or 5 (for <span class="put-text">PUT</span> and <span class="post-text">POST</span> requests) dot-separated elements, which are (in this exact order):</p>
  <ol>
    <li><strong>X-OnePageCRM-UID</strong> header value</li>
    <li><strong>X-OnePageCRM-TS</strong> header value</li>
    <li>HTTP request method name, uppercase (<span class="get-text">GET</span>, <span class="post-text">POST</span>, <span class="put-text">PUT</span> or <span class="delete-text">DELETE</span>)</li>
    <li>SHA-1 (written in hex using lowercase for a-f) hash of the full request URL</li>
    <li>(only for <span class="put-text">PUT</span> and <span class="post-text">POST</span> requests) SHA-1 hash (written in hex using lowercase for a-f) has of the raw request body.</li>
  </ol>
  <p>The HMAC-SHA256 signature is calculated using the API-KEY as the signing key.
  The API key as received from the API is Base-64 encoded, so it has to be decoded into whatevre format the HMAC-SHA256 function you are using requires. Usually this is a byte array.</p>
  <p>The resulting lowercase hex is the value for the <strong>X-OnePageCRM-Auth</strong> header field.</p>

  <h3 id="example-signature">Example Signature</h3>
  <p>We want to edit a contact with an id of <code class="inline">‘4d91d3ea6381904e44000026’</code> and partially update his first and last name.</p>
  <ul>
    <li>The full url for this request is: <code class="inline">https://app.onepagecrm.com/api/v3/contacts/4d91d3ea6381904e44000026.json?partial=1</code></li>
    <li>The raw request body to partially update the contact’s name is: <code class="inline">‘{"first_name":"John", "last_name":"Doe"}’</code></li>
    <li>The request type in uppercase is: <span class="label label-default">PUT</span></li>
    <li>The unix timestamp used for this request is: <code class="inline">1401366488</code></li>
    <li>The user id as received from the login function is: <code class="inline">4e0046526381906f7e000002</code></li>
    <li>The api key as received from the login function is: <code class="inline">AJfSRLr7uhsa9lOIgKQ4Vu72zzg3QTE7pJL2iSeA6Mo=</code></li>
  </ul>
  <p>Now we have to build the string which we can then encode using the API_key. When converting strings to a SHA-1 hash they should be saved as strings of hex values with lowercase letters for ‘a’ to ‘f’.</p>
  <ul>
    <li>The url has to be SHA-1 encoded resulting in: <code class="inline">813617379a1e9903964546d9668042cb39c5d73f</code></li>
    <li>The request body has to be SHA-1 encoded resulting in: <code class="inline">77a6f18527cad414cf63541918fb86a9dffe4159</code></li>
    <li>The format of the string to be encoded is formed by string together the user_id, timestamp, request type, SHA-1 hash of the url and SHA-1 hash of the post body. They have to be in this order and separated by dots. The sample string is: <code class="inline">4e0046526381906f7e000002.1401366488.PUT.813617379a1e9903964546d9668042cb39c5d73f.77a6f18527cad414cf63541918fb86a9dffe4159</code></li>
  </ul>
  <p>Finally the signature string has to be HMAC-SHA256 encoded using the API key as signing key. The API key is received from the login call as a base-64 encoded byte array, and most HMAC signing functions require the key to be in plain bytes. Some languages and libraries have methods for this conversion, others require the API key to first be converted to a hex string which can then be converted to a byte array. See the sample code below for details.</p>
  <p>Here is the resulting signature for the sample values: <code class="inline">cdeb83dfc85172fd1cb676a7219dbacf6da0382ed3c9d890b41977e33a49fcf0</code></p>
  <h3 id="sample-code">Sample Code</h3>
  <p>To help with the signing process we have written the functions for signing API calls in various languages.</p>
  <!-- Nav tabs -->
  <ul class="nav nav-tabs">
    <li class="active"><a href="#ruby" data-toggle="tab">Ruby</a></li>
    <li><a href="#objectivec" data-toggle="tab">Objective-C</a></li>
    <li><a href="#javascript" data-toggle="tab">Javascript</a></li>
    <li><a href="#csharp" data-toggle="tab">C#</a></li>
    <li><a href="#java" data-toggle="tab">Java</a></li>
    <li><a href="#python" data-toggle="tab">Python</a></li>
    <li><a href="#PHP" data-toggle="tab">PHP</a></li>
  </ul>
  <!-- Tab panes -->
  <div class="tab-content">
  <div class="tab-pane fade in active show" id="ruby">
      <script src="https://gist.github.com/JohnMaguir/d6551ebe68317da1f1ff41a1abf0018c.js"></script>
    </div>
    <div class="tab-pane fade" id="objectivec">
      <script src="https://gist.github.com/OnePageCTO/6012092.js"></script>
    </div>
    <div class="tab-pane fade" id="javascript">
      <script src="https://gist.github.com/JohnMaguir/efa669a1cfff64dc4bf16995f8c2aa31.js"></script>
    </div>
    <div class="tab-pane fade" id="csharp">
      <script src="https://gist.github.com/JohnMaguir/ce1191c06f836cc5313ee46c52dc65ba.js"></script>
    </div>
    <div class="tab-pane fade" id="java">
      <script src="https://gist.github.com/JohnMaguir/b4af01d1940dd86fcc55a0b7f87fa553.js"></script>
    </div>
    <div class="tab-pane fade" id="ruby">
      <script src="https://gist.github.com/JohnMaguir/d6551ebe68317da1f1ff41a1abf0018c.js"></script>
    </div>
    <div class="tab-pane fade" id="python">
      <script src="https://gist.github.com/JohnMaguir/b3100afe5897f75e3b59fb4f1040ed55.js"></script>
    </div>
    <div class="tab-pane fade" id="PHP">
      <script src="https://gist.github.com/peterOnePageCRM/93c7af55e5063fbf2097.js"></script>
    </div>
  </div>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="fields">Fields</h2>
  <p>The optional <code class="bluetext">fields</code> parameter is a powerful tool allowing you to requested related resources to the main resource which you are fetching</p>
  <h3 id="fetching-associated-resources" class="top-padding">Fetching Associated Resources</h3>
  <p>If you want to receive associated resources in addition to a default fieldset, you can use eith the resource name with all, or empty - both defailt to sending all fields for the sub resource <span class="bluetext">deals(all)</span> or <span class="bluetext">deals()</span>. The following request would return all default contact fields plus linked deals:</p>
  <p class="url"><code class="bluetext"><span class="get-text">GET</span> contacts.json?fields=deals()</code></p>
  <p> Or you could request multiple resources with contacts: </p>
  <p class="url"><code class="bluetext"><span class="get-text">GET</span> contacts.json?fields=deals(),calls(),notes()</code></p>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="actionstream">Action Stream</h2>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Note</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">action_stream.format</code></td>
        <td> Returns contacts with actions, sorted correctly</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">action_stream.format?has_actions=false</code></td>
        <td> Returns all contacts, sorted correctly </td>
      </tr>
    </tbody>
  </table>
  <p>The Action Stream is the default view in the OnePageCRM web application. It is a special listing of contacts, with following differences:</p>
  <ul>
    <li><strong>Contacts are sorted by actions.</strong> So instead of an alphabetical order, contacts are sorted by action’s assignee presence (assigned first), action’s date and action’s last modification time. For contacts with multiple actions, only top action participates in sorting.</li>
    <li><strong>Returned data includes actions by default.</strong> Default value of <code class="bluetext"><a href="fields.html">fields</a></code> parameter for this request is ”all,next_actions(all),next_action(all)”.  You can still change the value to whatever suits your needs however. </li>
    <li><strong>Filtering by <code class="bluetext">letter</code> is removed, “waiting” is added.</strong> letter filtering parameter is not supported. However, you can use <code class="redtext">boolean</code> <code class="bluetext">waiting</code> flag to limit results to contacts having an action with “waiting” date (assigned to a specified user if <code class="bluetext">user_id</code> parameter is provided).</li>
    <li><strong>With actions only.</strong> By default a call to <code>actions.json</code> will return only contacts with a next action.
    This can be overridden by changing the call to: <code>actions.json?has_actions=false</code></li>
  </ul>
  <p class="url"><strong>URL:</strong> https://app.onepagecrm.com/api/v3/action_stream.json</p>
  <div class="code-snippet">
{% highlight json %}
{
  "status": 0,
  "message": "OK",
  "timestamp": 1401357078,
  "data": {
    "contacts": [
      {
        "contact": {
          "id": "53762162d4ca1a31d7000001",
          "owner_id": "536c9546d4ca1a56c8000003",
          "first_name": "Bunny",
          "last_name": "Bravo",
          "photo_url": "",
          "job_title": "Mama",
          "background": "",
          "urls": [

          ],
          "phones": [

          ],
          "emails": [
            {
              "type": "work",
              "value": "mamma@cn.co"
            }
          ],
          "status_id": "536c954fd4ca1a56c8000006",
          "status": "Lead",
          "starred": true,
          "lead_source_id": "",
          "type": "company",
          "company_name": "Cartoon Network",
          "company_id": "537b1df8d4ca1a55e2000001",
          "tags": [

          ],
          "custom_fields": [

          ],
          "modified_at": "2014-05-27T20:33:34Z",
          "address_list": [
            {
              "address": null,
              "city": null,
              "state": null,
              "zip_code": null,
              "country_code": null
            }
          ]
        },
        "next_actions": [
          {
            "id": "537b1eead4ca1a55e2000008",
            "assignee_id": "536c9546d4ca1a56c8000003",
            "queued": false,
            "contact_id": "53762162d4ca1a31d7000001",
            "text": "Call Mama",
            "date": "2014-05-20",
            "done": false,
            "modified_at": "2014-05-20T09:23:04Z",
            "status": "date"
          }
        ],
        "next_actions_count": 1,
        "next_action": {
          "id": "537b1eead4ca1a55e2000008",
          "assignee_id": "536c9546d4ca1a56c8000003",
          "queued": false,
          "contact_id": "53762162d4ca1a31d7000001",
          "text": "Call Mama",
          "date": "2014-05-20",
          "done": false,
          "modified_at": "2014-05-20T09:23:04Z",
          "status": "date"
        }
      },
      {
        "contact": {
          "id": "53761df7d4ca1a2c2f000042",
          "owner_id": "536c9546d4ca1a56c8000003",
          "first_name": "Johnny",
          "last_name": "Bravo",
          "photo_url": "",
          "job_title": "Model",
          "background": "Johny tried to hit on me",
          "urls": [
            {
              "type": "website",
              "value": "www.cartoonnetwork.com"
            }
          ],
          "phones": [
            {
              "type": "work",
              "value": "+555 555"
            }
          ],
          "emails": [
            {
              "type": "work",
              "value": "jb@cartoonnetwork.com"
            }
          ],
          "status_id": "536c954fd4ca1a56c8000006",
          "status": "Lead",
          "starred": false,
          "lead_source_id": "",
          "type": "company",
          "company_name": "Cartoon Network",
          "company_id": "537b1df8d4ca1a55e2000001",
          "tags": [

          ],
          "custom_fields": [

          ],
          "modified_at": "2014-05-20T09:19:12Z",
          "address_list": [
            {
              "address": null,
              "city": null,
              "state": null,
              "zip_code": null,
              "country_code": null
            }
          ]
        },
        "next_actions": [
          {
            "id": "537b1e10d4ca1a55e2000003",
            "assignee_id": "536c9546d4ca1a56c8000003",
            "queued": false,
            "contact_id": "53761df7d4ca1a2c2f000042",
            "text": "Johnny to call...",
            "done": false,
            "modified_at": "2014-05-20T09:19:12Z",
            "status": "waiting",
            "date": null
          }
        ],
        "next_actions_count": 1,
        "next_action": {
          "id": "537b1e10d4ca1a55e2000003",
          "assignee_id": "536c9546d4ca1a56c8000003",
          "queued": false,
          "contact_id": "53761df7d4ca1a2c2f000042",
          "text": "Johnny to call...",
          "done": false,
          "modified_at": "2014-05-20T09:19:12Z",
          "status": "waiting",
          "date": null
        }
      }
    ],
    "total_count": 2,
    "page": 1,
    "max_page": 1,
    "per_page": 10
  }
}
{% endhighlight %}
  </div>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="team-stream">Team Stream</h2>
  <p>This endpoint corresponds to the Team Stream view in the OnePageCRM web application. It is similar to the Action Stream but shows the whole teams stream.</p>
  <p>A <code class="highlighter-rouge">user_id</code> parameter can be applied to only show that users action stream.</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Note</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">team_stream.format</code></td>
        <td> Returns all contacts, sorted the 'OnePageCRM' action stream way</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">action_stream.format?user_id={user_id}</code></td>
        <td> Returns the specified users contacts, sorted the 'OnePageCRM' action stream way. </td>
      </tr>
    </tbody>
  </table>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="actions">Actions</h2>
  <h3 id="main-urls">Main URLs</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td class="nowrap">
          <code class="bluetext">actions.format?assignee_id={id}</code>
        </td>
        <td>Get actions for a specified user (must be on logged in user’s team)</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">contacts/{id}/actions.format<br/>actions.format?contact_id={id}</code>
        </td>
        <td>Get any actions associated with a contact</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">actions/{id}.format</code>
        </td>
        <td>Get a single action</td>
      </tr>
      <tr>
        <td><span class="post-text">POST</span></td>
        <td>
          <code class="bluetext">contacts/{id}/actions.format<br/>actions.format</code>
        </td>
        <td>Create a new action for a contact </td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">actions/{id}.format</code>
        </td>
        <td>Update an action</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td class="nowrap">
          <code class="bluetext">actions/{id}.format?partial=1</code>
        </td>
        <td>Partially update an action</td>
      </tr>
    </tbody>
  </table>
  <p>Action collections are sorted by completion time (not completed first), assignee, action date and modification time. Completed actions always go after open ones and queued actions go after assigned open ones. Putting it simple, the order is as follows:</p>
  <ol>
    <li>Next actions sorted by action date and modification time.</li>
    <li>Queued actions sorted by modification time.</li>
    <li>Completed actions sorted by completion time.</li>
  </ol>
  <h3 id="shortcut-methods">Shortcut Methods</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">actions/{id}/mark_as_done.format</code>
        </td>
        <td>Marks action as completed</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">actions/{id}/undo_completion.format</code>
        </td>
        <td>Undo marking action as completed</td>
      </tr>
    </tbody>
  </table>
  <h3 id="resource-fields">Resource Fields</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">id</code></td>
        <td>Action ID. (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">modified_at</code></td>
        <td>Action’s last modification time. (read-only)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">contact_id</code></td>
        <td>ID of a contact this actions is associated with.</td>
      </tr>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">assignee_id</code></td>
        <td>ID of user an action is assigned to. Defaults to API user on creation if empty.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">date</code></td>
        <td>Action’s date. Either as <span class="italic">'yyyy-mm-dd'</span> or nil when status is ‘queued’.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">text</code></td>
        <td>Action’s text. Maximum 140 characters allowed.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">status</code></td>
        <td>Replaces next, waiting, has_date. Can be one of the following values:
          <span class="italic">date, asap, waiting, queued, date_time</span></td>
      </tr>
      <tr>
        <td><code class="redtext">date</code></td>
        <td><code class="bluetext">done_date</code></td>
        <td>Date when action was completed, <span class="italic">yyyy-mm-dd</span>, nil when done is false. (read-only)</td>
      </tr>
      <tr>
        <td><code class="redtext">bool</code></td>
        <td><code class="bluetext">done</code></td>
        <td>True if the action has been completed. (read-only)</td>
      </tr>
      <tr>
        <td><code class="redtext">int</code></td>
        <td><code class="bluetext">exact_time</code></td>
        <td>The unix timestamp. It's only avaliable when the action has time.</td>
      </tr>
    </tbody>
  </table>
  <h3 id="listing-parameters">Listing Parameters</h3>
  <p>Following parameters are supported when fetching a list of actions:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">bool</code></td>
        <td><code class="bluetext">done</code></td>
        <td>
          <strong>True:</strong>  return only done actions<br/>
          <strong>False:</strong> return only open actions<br/>
          <strong>Not present:</strong> return both done and open actions
        </td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">type</code></td>
        <td>Get only actions with the given status. Can be <span class="italic">date, asap, waiting or no_date</span>.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">contact_id</code></td>
        <td>Get all actions for a contact.</td>
      </tr>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">assignee_id</code></td>
        <td>Get all actions assigned to a user.</td>
      </tr>
    </tbody>
  </table>
  <!-- Sample from GitHub -->
  <h3 id="sample-code">Sample code</h3>
  <div class="sample-code">
    <div class="sample-code-title">Sample JSON server response for actions </div>
    <script src="https://gist.github.com/OnePageCTO/6575061.js?file=actions.json"></script>
  </div>
  <!-- /Sample from GitHub -->
  <p class="url"><strong>URL:</strong> https://app.onepagecrm.com/api/v3/actions.json?contact_id=523637e1391ba11500000255</p>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="contacts">Contacts</h2>
  <h3 id="main-urls">Main URLs</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">contacts.format</code>
        </td>
        <td>Get a list of contacts</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">contacts/{id}.format</code>
        </td>
        <td>Get a single contact</td>
      </tr>
      <tr>
        <td><span class="post-text">POST</span></td>
        <td>
          <code class="bluetext">contacts.format</code>
        </td>
        <td>Create a contact</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">contacts/{id}.format</code>
        </td>
        <td>Update a contact</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">contacts/{id}.format?partial=1</code>
        </td>
        <td>Partially update a contact</td>
      </tr>
      <tr>
        <td><span class="delete-text">DELETE</span></td>
        <td>
          <code class="bluetext">contacts/{id}.format</code>
        </td>
        <td>Delete a contact</td>
      </tr>
      <tr>
        <td><span class="delete-text">DELETE</span></td>
        <td>
          <code class="bluetext">contacts/{id}.format?undo=1</code>
        </td>
        <td>Undo contact’s deletion</td>
      </tr>
    </tbody>
  </table>
  <h3 id="shortcut-methods">Shortcut Methods</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td class="smaller">Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">contacts/{id}/star.format</code>
        </td>
        <td>Star a contact</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">contacts/{id}/unstar.format</code>
        </td>
        <td>Unstar a contact</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">contacts/{id}/assign_tag/{tag_id}.format</code>
        </td>
        <td>Add a tag to a contact by name or ID</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">contacts/{id}/unassign_tag/{tag_id}.format</code>
        </td>
        <td>Remove a tag from a contact by name or ID</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">contacts/{id}/split.format</code>
        </td>
        <td>Split contact from a company. Send the field <code class="bluetext">company_name</code> in the body with the new company name.</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">contacts/{id}/close_sales_cycle.format</code>
        </td>
        <td>Close the sales cycle for the contact. Add an optional closing comment with the <code class="bluetext">comment</code> field in the request body.</td>
      </tr>
    </tbody>
  </table>
  <h3 id="listing-parameters">Listing Parameters</h3>
  <p>Following parameters are supported when fetching a list of contacts:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">search</code></td>
        <td>Search phrase. Only contacts having this phrase in phone, first, last or company name will be returned.</td>
      </tr>
<!--  <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">filter_id</code></td>
        <td>ID of a user-defined filter (formerly custom filter). If provided, <code class="bluetext">letter</code>, <code class="bluetext">tag</code>, <code class="bluetext">status_id</code>, <code class="bluetext">starred</code>, <code class="bluetext">waiting</code> and <code class="bluetext">user_id</code> parameters would be ignored.</td>
      </tr> -->
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">letter</code></td>
        <td>
          Only return contacts whose display name begins with a specified letter (case insensitive). <br/>
          Special value “1” is used for listing contacts whose display name begins with a number.<br/>
          Display name depends on contact’s type. For contacts with “company” type it is <code class="bluetext">company_name</code>, for “individual” contacts it is concatenation of <code class="bluetext">first_name</code> and <code class="bluetext">last_name</code>.
        </td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">tag</code></td>
        <td>Only return contacts with a specified tag attached.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">status_id</code></td>
        <td>Only return contacts with a specified status.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">lead_source_id</code></td>
        <td>Only return contacts with a specified lead source.</td>
      </tr>
      <tr>
        <td class="nowrap"><code class="redtext">boolean</code></td>
        <td><code class="bluetext">starred</code></td>
        <td>
          <strong>True:</strong> Only return starred contacts.<br/>
          <strong>False: </strong>Only return unstarred contacts.<br/>
          <strong>Default:</strong> Returns both starred and unstarred.
        </td>
      </tr>
      <tr>
        <td><code class="redtext">boolean</code></td>
        <td><code class="bluetext">waiting</code></td>
        <td>
          <strong>True:</strong> Only return contacts which have a ‘waiting’ next action for logged in or selected user.<br/>
          <strong>False:</strong> Only return contacts which don’t have a ‘waiting’ next action for logged in or selected user.<br/>
          <strong>Default:</strong> Returns both contacts with and without a “waiting” next action.
        </td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">owner_id</code></td>
        <td>Return contacts owned by specified user. If not provided, contacts for current user are returned.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">email</code></td>
        <td>Search for contacts with matching email address. Search is case insensitive.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">url</code></td>
        <td>Search for contacts with matching url. Search is case insensitive, but must be an exact match - ie a search for http://www.example.com will not find a contact with url www.example.com</td>
      </tr>
      <tr>
        <td><code class="redtext">id</code></td>
        <td><code class="bluetext">custom_field_id</code></td>
        <td>ID of custom field the <code class="bluetext">custom_field_value</code> is filtering by.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">custom_field_value</code></td>
        <td>Value for a custom field to filter the contacts list by. <br/>The <code class="bluetext">custom_field_id</code> needs to be included with this parameter.</td>
      </tr>
      <tr>
        <td><code class="redtext">bool</code></td>
        <td><code class="bluetext">team</code></td>
        <td>
          <strong>True:</strong> The whole team’s contacts will be given.<br/>
          <strong>False, Default:</strong> Only the logged in user’s contacts will be given.
        </td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">modified_since</code></td>
        <td>Return only records that were modified since specified time.</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">unmodified_since</code></td>
        <td>Return only records that were not modified since specified time.</td>
      </tr>
      <tr>
        <td><code class="redtext">integer</code></td>
        <td><code class="bluetext">per_page</code></td>
        <td>Number of records to return. Maximum 100 allowed. Default is 10.</td>
      </tr>
      <tr>
        <td><code class="redtext">integer</code></td>
        <td><code class="bluetext">page</code></td>
        <td>Page number. Starts from 1. Default is 1.</td>
      </tr>
    </tbody>
  </table>
  <h3 id="resource-fields">Resource Fields</h3>
  <p>Following parameters are supported when fetching a contact:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">bson_id</code></td>
        <td><code class="bluetext">id</code></td>
        <td>Contact ID (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">created_at</code></td>
        <td>Date the contact was created at (read-only)</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">modified_at</code></td>
        <td>Contact’s last modification time (read-only)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">type</code></td>
        <td>Type of the contact ('company' or 'individual'). Default is the administrator's default.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">first_name</code></td>
        <td>First name - truncated to 25 characters.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">last_name</code></td>
        <td>Last name - truncated to 25 characters.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">company_name</code></td>
        <td>Company name - truncated to 55 characters.</td>
      </tr>
      <tr>
        <td><code class="redtext">int</code></td>
        <td><code class="bluetext">company_size</code></td>
        <td>The number of contacts in the company.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">company_id</code></td>
        <td>Company ID.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">job_title</code></td>
        <td>Contact's job title</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">status_id</code></td>
        <td>Contact’s status ID. Default is the ID for the 'lead' status</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">status</code></td>
        <td>Contact’s status. Default is ‘lead’</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td><code class="bluetext">tags</code></td>
        <td>Tags attached to a contact</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">title</code></td>
        <td>Contact’s title. It's avaliable when this option is enabled by the user.</td>
      </tr>
      <tr>
        <td class="nowrap"><code class="redtext">boolean</code></td>
        <td><code class="bluetext">starred</code></td>
        <td><span class="italic">true</span> if a contact is starred</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">owner_id</code></td>
        <td>Contact’s owner ID. Default is logged in user’s ID.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">address_list</code></td>
        <td>
          List of address <code class="redtext">hashes</code>, each containing the following fields
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <td>Type</td>
                <td>Name</td>
                <td>Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="nowrap"><code class="redtext">string</code></td>
                <td><code class="bluetext">address</code></td>
                <td>Contact’s Adress</td>
              </tr>
              <tr>
                <td><code class="redtext">string</code></td>
                <td><code class="bluetext">city</code></td>
                <td>Contact’s city</td>
              </tr>
              <tr>
                <td><code class="redtext">string</code></td>
                <td><code class="bluetext">state</code></td>
                <td>Contact’s state</td>
              </tr>
              <tr>
                <td><code class="redtext">string</code></td>
                <td><code class="bluetext">zip_code</code></td>
                <td>Contact’s zip code</td>
              </tr>
              <tr>
                <td><code class="redtext">string</code></td>
                <td class="nowrap"><code class="bluetext">country_code</code></td>
                <td>Contact’s country as ISO country code</td>
              </tr>
            </tbody>
          </table>
        </td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">background</code></td>
        <td>Contact’s description - truncated to 10000 characters.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">lead_source_id</code></td>
        <td>Contact’s lead source id</td>
      </tr>
      <tr>
        <td><code class="redtext">boolean</code></td>
        <td><code class="bluetext">pending_deal</code></td>
        <td>True if the contact has pending deals. (read-only)</td>
      </tr>
      <tr>
        <td><code class="redtext">float</code></td>
        <td><code class="bluetext">total_pendings</code></td>
        <td>The sum of contact's pending deals. (read-only)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">letter</code></td>
        <td>The first letter of the contacts's name. (read-only)</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td><code class="bluetext">sales_closed_for</code></td>
        <td>A list of user's ID that closed the sales cycle for this contacts. (read-only)</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td><code class="bluetext">closed_sales</code></td>
        <td>A list of closed sales objects. (read-only)</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td><code class="bluetext">phones</code></td>
        <td>
          Contact’s phones. Every item is a <code class="redtext">hash</code> with 2 elements:
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <td>Type</td>
                <td>Name</td>
                <td>Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="nowrap"><code class="redtext">string</code></td>
                <td class="nowrap"><code class="bluetext">type</code></td>
                <td>Phone type ('work', 'mobile', 'home', 'direct', 'fax', 'skype' or 'other')</td>
              </tr>
              <tr>
                <td><code class="redtext">string</code></td>
                <td class="nowrap"><code class="bluetext">value</code></td>
                <td>Phone number</td>
              </tr>
            </tbody>
          </table>
        </td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td><code class="bluetext">emails</code></td>
        <td>
          Contact’s email addresses. Every item is a <code class="redtext">hash</code> with 2 elements:
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <td>Type</td>
                <td>Name</td>
                <td>Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code class="redtext">string</code></td>
                <td><code class="bluetext">type</code></td>
                <td>Email type ('work', 'home', or 'other')</td>
              </tr>
              <tr>
                <td class="nowrap"><code class="redtext">string</code></td>
                <td class="nowrap"><code class="bluetext">value</code></td>
                <td>Email address</td>
              </tr>
            </tbody>
          </table>
        </td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td><code class="bluetext">urls</code></td>
        <td>
          Contact’s URLs. Every item is a <code class="redtext">hash</code> with 2 elements:
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <td>Type</td>
                <td>Name</td>
                <td>Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code class="redtext">string</code></td>
                <td><code class="bluetext">type</code></td>
                <td>URL type - ('website', 'blog', 'twitter', 'linkedin', 'facebook', 'google_plus' or 'other')</td>
              </tr>
              <tr>
                <td class="nowrap"><code class="redtext">string</code></td>
                <td class="nowrap"><code class="bluetext">value</code></td>
                <td>URL</td>
              </tr>
            </tbody>
          </table>
        </td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td class="nowrap"><code class="bluetext">custom_fields</code></td>
        <td>
          Array of contact's custom fields. Every item is an <code class="redtext">object</code> with 2 elements:
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <td>Type</td>
                <td>Name</td>
                <td>Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code class="redtext">object</code></td>
                <td><code class="bluetext">custom_field</code></td>
                <td>{ 'id' : 'custom field id'}</td>
              </tr>
              <tr>
                <td class="nowrap"><code>string</code></td>
                <td class="nowrap"><code>value</code></td>
                <td>Field's value</td>
              </tr>
            </tbody>
          </table>
{% highlight json %}
'custom_fields' : [
{
  'custom_field' : {
    'id' : cf_id
  },
  'value' : 'B'
},
{
  'custom_field' : {
    'id' : second_cf_id
  },
  'value' : 'Y'
}
]
{% endhighlight %}
        </td>
      </tr>
    </tbody>
  </table>
  <h3 id="complementary-data">Сomplementary Data</h3>
  <p>The following data is not part of the resource, but it can be returned for <span class="get-text">GET</span> requests if specified in <a href="#fields">fields</a>  parameter. If any of this data is provided with <span class="post-text">POST</span> or <span class="put-text">PUT</span> requests, it will be ignored.</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">photo_url</code></td>
        <td>URL to contact's photo</td>
      </tr>
      <!-- missing feature so docs removed see API-39 -->
      <!-- <tr>
        <td class="nowrap"><code class="redtext">integer</code></td>
        <td class="nowrap"><code class="bluetext">pending_total</code></td>
        <td>Total amount of pending deals attached to a contact.</td>
      </tr> -->
    </tbody>
  </table>
  <h3 id="associated-resources">Associated Resources</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">contacts/{id}/notes.format</code>
        </td>
        <td>Get contact’s notes</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">contacts/{id}/deals.format</code>
        </td>
        <td>Get contact’s deals</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">contacts/{id}/actions.format</code>
        </td>
        <td>Get contact’s actions</td>
      </tr>
    </tbody>
  </table>
  <p>You can also have associated resources attached to contacts when you GET the latter ones. Just specify one of the fields listed below in the <code class="bluetext">fields</code> parameter.</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">array</code></td>
        <td><code class="bluetext">deals()</code></td>
        <td>Last 4 deals associated with a contact.</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td><code class="bluetext">notes()</code></td>
        <td>Last 4 notes associated with a contact.</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td><code class="bluetext">next_actions()</code></td>
        <td>List of all assigned next actions for a contact sorted by action date and modification time.</td>
      </tr>
      <tr>
        <td class="nowrap"><code class="redtext">action</code></td>
        <td><code class="bluetext">next_action()</code></td>
        <td>Active user's next action for a contact. Request this field in case you only need "that one next action to move a sale forward" for currently logged in user. If current user doesn't have a next action for this contact, this field is empty.</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td><code class="bluetext">completed_actions()</code></td>
        <td>Last 4 completed actions for this contact sorted by completion time.</td>
      </tr>
      <tr>
        <td><code class="redtext">company</code></td>
        <td><code class="bluetext">company()</code></td>
        <td>The contact's company.</td>
      </tr>
    </tbody>
  </table>
  <p>For example, to fetch a list of contacts containing only IDs, names and current user's next actions, you could use a following request (note that <code class="bluetext">id</code> is always included - no point specifying it in the list):</p>
  <p class="url"><code class="bluetext"><span class="get-text">GET</span> contacts.json?fields=first_name,last_name,company_name,next_action()</code></p>
  <p>Requesting <code class="bluetext">next_action()</code> field doesn't remove that main next action from <code class="bluetext">next_actions</code> list, so you can request both fields if you like to have both full list of next actions and quick access to the main one.</p>
  <!-- Sample from GitHub -->
  <h3 id="sample-code">Sample code</h3>
  <div class="sample-code">
    <div class="sample-code-title">Sample JSON server response for contacts </div>
    <script src="https://gist.github.com/OnePageCTO/6575061.js?file=contacts.json"></script>
  </div>
  <!-- /Sample from GitHub -->
  <p class="url"><strong>URL:</strong> https://app.onepagecrm.com/api/v3/contacts.json</p>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="deals">Deals</h2>
  <p>Deals store information about a deal that is taking place or has closed. They contain data on the name of the deal, the amount of money the deal is worth, the number of months the deal will last for, when a deal is expected to close or when it was closed and notes about the deal.</p>
  <p>Using this resource you can create new deals, update already existing deals, delete deals or list a single deal or list deals for an individual company, individual contact or by whether they were won lost or are still pending.</p>
  <h3 id="urls">URLs</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code >deals.format</code>
        </td>
        <td>Get most recently updated deals</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code >
            deals.format?contact_id={contact_id}<br/>
            contacts/{contact_id}/deals.format
          </code>
        </td>
        <td>Get a list of deals for a contact</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code >
            deals.format?company_id={company_id}<br/>
            companies/{company_id}/deals.format
          </code>
        </td>
        <td class="nowrap">Get a list of deals for a company</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code >deals.format?status={status}</code>
        </td>
        <td>Get deals with a particular status</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code >deals/{id}.format</code>
        </td>
        <td>Get a single deal</td>
      </tr>
      <tr>
        <td><span class="post-text">POST</span></td>
        <td>
          <code >
            deals.format?contact_id={contact_id}<br/>
            contacts/{contact_id}/deals.format
          </code>
        </td>
        <td>Create a deal</td>
      </tr>
      <tr>
        <td><span class="post-text">POST</span></td>
        <td>
          <code >
            deals.format?contact_id={contact_id}&partial=1<br/>
            contacts/{contact_id}/deals.format?partial=1
          </code>
        </td>
        <td>Create a deal with unprovided<br/> fields filled with default values</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code >deals/{id}.format</code>
        </td>
        <td>Update a deal</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code >deals/{id}.format?partial=1</code>
        </td>
        <td>Partially update a deal</td>
      </tr>
      <tr>
        <td><span class="delete-text">DELETE</span></td>
        <td>
          <code >deals/{id}.format</code>
        </td>
        <td>Delete a deal</td>
      </tr>
    </tbody>
  </table>
  <h3 id="listing-fields">Listing Fields</h3>
  <p>Following parameters are supported when fetching a list of Deals:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">search</code></td>
        <td>Search phrase. Only deals having this phrase in deal, contact or company names will be returned.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">tag</code></td>
        <td>Only return deals with a specified tag attached.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">filter_id</code></td>
        <td>Only return deals that match the custom filter.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">owner_id</code></td>
        <td>Only return deals with a specified owner.</td>
      </tr>
      <tr>
        <td class="nowrap"><code >string</code></td>
        <td><code >status</code></td>
        <td>Return deals that have the provided status type. Status can be one of: <strong>won, lost, closed</strong> (sorted by close date DESC) or <strong>pending</strong> (sorted by expected close ASC).</td>
      </tr>
      <tr>
        <td><code >time</code></td>
        <td><code >date_filter</code></td>
        <td>Filter returned data by a particular field when combined with since and until.</td>
      </tr>
      <tr>
        <td><code >time</code></td>
        <td><code >since</code></td>
        <td>Return resources with dates in the provided date_filter parameter since this time. Otherwise it will return resources that were modified since this time.</td>
      </tr>
      <tr>
        <td><code >time</code></td>
        <td><code >until</code></td>
        <td>Return resources with dates in the provided date_filter parameter until this time. Otherwise it will return resources that were modified until this time.</td>
      </tr>
      <tr>
        <td><code >time</code></td>
        <td class="nowrap"><code >unmodified_since</code></td>
        <td>Return only records that were unmodified since specified time.</td>
      </tr>
      <tr>
        <td><code >time</code></td>
        <td><code >modified_since</code></td>
        <td>Return only records that were modified since specified time.</td>
      </tr>
    </tbody>
  </table>
  <h3 id="resource-fields">Resource Fields</h3>
  <p>Following parameters are supported when fetching a list of contacts:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code >bson_id</code></td>
        <td><code >id</code></td>
        <td>Deal ID (read only)</td>
      </tr>
      <tr>
        <td><code >bson_id</code></td>
        <td><code >contact_id</code></td>
        <td>ID of the Contact this deal belongs to (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">created_at</code></td>
        <td>Date the deal was created at (read-only)</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">modified_at</code></td>
        <td>Deal’s last modification time (read-only)</td>
      </tr>
      <tr>
        <td><code >object</code></td>
        <td><code >contact_info</code></td>
        <td>
          JSON object containing contact_name and company relating to deal. (read only)
        </td>
      </tr>
      <tr>
        <td><code>bson_id</code></td>
        <td><code>owner_id</code></td>
        <td>ID of the User this deal belongs to</td>
      </tr>
      <tr>
        <td><code>object</code></td>
        <td><code>owner</code></td>
        <td>JSON object containing owner informations: id, name, email. (read only)</td>
      </tr>
      <tr>
        <td><code>boolean</code></td>
        <td><code>has_related_notes</code></td>
        <td>True if the deal has related notes. (read only)</td>
      </tr>
      <tr>
        <td><code>date</code></td>
        <td><code>date</code></td>
        <td>Date related to the deal’s creation</td>
      </tr>
      <tr>
        <td><code >string</code></td>
        <td><code >name</code></td>
        <td>Name of the deal - truncated to 60 characters. (required)</td>
      </tr>
      <tr>
        <td><code >string</code></td>
        <td><code >text</code></td>
        <td>The text in the body of the deal - truncated to 7168 characters.</td>
      </tr>
      <tr>
        <td><code >string</code></td>
        <td><code >author</code></td>
        <td>First name and first letter of last name of the author of the deal (read only)</td>
      </tr>
      <tr>
        <td><code >float</code></td>
        <td><code >amount</code></td>
        <td>Total amount of money to be paid per month</td>
      </tr>
      <tr>
        <td><code >int</code></td>
        <td><code >months</code></td>
        <td>Number of months the above amount will be paid for</td>
      </tr>
      <tr>
        <td><code >float</code></td>
        <td class="nowrap"><code >total_amount</code></td>
        <td>Product of amount and months (read only)</td>
      </tr>
      <tr>
        <td><code >int</code></td>
        <td><code >stage</code></td>
        <td>What stage this deal is at. This can be converted to a label using the deal stages list in the settings resource.</td>
      </tr>
      <tr>
        <td><code >string</code></td>
        <td><code >status</code></td>
        <td>Status of the deal this is one of won, lost or pending</td>
      </tr>
      <tr>
        <td><code >date</code></td>
        <td class="nowrap"><code >expected_close_date</code></td>
        <td>Date when the deal is expected to be closed</td>
      </tr>
      <tr>
        <td><code >date</code></td>
        <td><code >close_date</code></td>
        <td>Date that the deal was closed. This is set automatically when a deal is marked as won or lost (read only).</td>
      </tr>
    </tbody>
  </table>
  <h3 id="additional-resources">Additional Resources</h3>
  <p>Related notes can also be returned with a deal. They are returned as a resource just as they would be if you were to get notes for a contact. By default the notes will only return their id field. To get more information about the returned notes use the fields parameter.</p>
  <p>For example you would also like to return notes with their text field and author you could make a request like the one below.</p>
  <p class="url">
    <code >
      <span class="get-text">GET</span>
      deals/abcdef1234567890abcdef12.json?fields=notes(text,author)
    </code>
  </p>

  <h3 id="sample-code">Sample response</h3>
  <div class="sample-code">
    <div class="sample-code-title">Sample JSON server response for a call to  <code>deals.json</code></div>
{% highlight json %}
{
  "status": 0,
  "message": "OK",
  "timestamp": 1402476678,
  "data": {
    "deals": [
      {
        "deal": {
          "id": "539817b5eb8997481c000002",
          "contact_id": "53721750aa76206e8a000001",
          "contact_info": {
            "contact_name": "John Deer",
            "company": "John Deer Farm Machinery"
          },
          "owner_id": "52d3d90beb899776e400000e",
          "name": "Tractor Wheels",
          "text": "John Deer want 10k of tractor wheels",
          "date": "2014-06-11",
          "amount": 10,
          "total_amount": 10,
          "status": "pending",
          "stage": 10,
          "expected_close_date": "2014-06-11",
          "author": "Peter A.",
          "months": 1,
          "modified_at": "2014-06-11T08:48:31Z",
          "close_date": null
        },
        "related_notes": []
      }
    ],
    "total_count": 1,
    "page": 1,
    "max_page": 1,
    "per_page": 10
  }
}

{% endhighlight %}
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="notes">Notes</h2>
  <p>Notes allow you to keep track of your interactions with a customer, include important information that will help you with that contact or store any other information you see fit.</p>
  <p>Using this resource you can create a new note, update an existing note, delete an old note, attach a note to a deal or list notes for a company, contact or all notes made by your team.</p>
  <h3 id="urls">URLs</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">notes.format</code>
        </td>
        <td>Get a list of notes</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">
            notes.format?contact_id={contact_id}<br/>
            contacts/{contact_id}/notes.format
          </code>
        </td>
        <td>Get a list of notes for a contact</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">
            notes.format?company_id={company_id}<br/>
            companies/{company_id}/notes.format
          </code>
        </td>
        <td>Get a list of notes for a company</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">notes/{id}.format</code>
        </td>
        <td>Get a single note</td>
      </tr>
      <tr>
        <td><span class="post-text">POST</span></td>
        <td>
          <code class="bluetext">
            notes.format?contact_id={contact_id}<br/>
            contacts/{contact_id}/notes.format
          </code>
        </td>
        <td>Create a note</td>
      </tr>
      <tr>
        <td><span class="post-text">POST</span></td>
        <td>
          <code class="bluetext">
            notes.format?contact_id={contact_id}&partial=1<br/>
            contacts/{contact_id}/notes.format?partial=1
          </code>
        </td>
        <td>Create a note with unprovided <br/>fields filled with default values</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">notes/{id}.format</code>
        </td>
        <td>Update a note</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">notes/{id}.format?partial=1</code>
        </td>
        <td>Partially update a note</td>
      </tr>
      <tr>
        <td><span class="delete-text">DELETE</span></td>
        <td>
          <code class="bluetext">notes/{id}.format</code>
        </td>
        <td>Delete a note</td>
      </tr>
    </tbody>
  </table>
  <h3 id="listing-fields">Listing Fields</h3>
  <p>Following parameters are supported when fetching a list of notes:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">time</code></td>
        <td><code class="bluetext">date_filter</code></td>
        <td>Filter returned data by a particular field when combined with since and until</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">since</code></td>
        <td>Return resources with dates in the provided date_filter parameter since this time. Otherwise it will return resources that were modified since this time.</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">until</code></td>
        <td>Return resources with dates in the provided date_filter parameter until this time. Otherwise it will return resources that were modified until this time.</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td class="nowrap"><code class="bluetext">unmodified_since</code></td>
        <td>Return only records that were unmodified since specified time</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">modified_since</code></td>
        <td>Return only records that were modified since specified time</td>
      </tr>
    </tbody>
  </table>
  <h3 id="resource-fields">Resource Fields</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">bson_id</code></td>
        <td><code class="bluetext">id</code></td>
        <td>ID of the note. (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">bson_id</code></td>
        <td><code class="bluetext">contact_id</code></td>
        <td>id of the contact this note belongs to. (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">date</code></td>
        <td><code class="bluetext">date</code></td>
        <td>Date related to the note’s creation</td>
      </tr>
      <tr>
        <td><code class="redtext">date</code></td>
        <td><code class="bluetext">created_at</code></td>
        <td>The note's creation date.</td>
      </tr>
      <tr>
        <td><code class="redtext">date</code></td>
        <td><code class="bluetext">modified_at</code></td>
        <td>The note's modification date.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">text</code></td>
        <td>The text in the body of the note. (required)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">author</code></td>
        <td>First name and first letter of last name of the author of the note. (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">bson_id</code></td>
        <td><code class="bluetext">linked_deal_id</code></td>
        <td><span class="italic">null</span> if there is no linked deal</td>
      </tr>
    </tbody>
  </table>
  <!-- Sample from GitHub -->
  <h3 id="sample-code">Sample code</h3>
  <div class="sample-code">
    <div class="sample-code-title">Sample JSON server response for notes</div>
    <script src="https://gist.github.com/OnePageCTO/6575061.js?file=notes.json"></script>
  </div>
  <!-- /Sample from GitHub -->
  <p class="url"><strong>URL:</strong> https://app.onepagecrm.com/api/v3/notes.json?contact_id=523637e1391ba11500000255</p>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="calls">Calls</h2>
  <p>Calls allow you to keep track of calls you make to your contacts.</p>
  <p>Using this resource, you can create a new call, update an existing call, delete a call and list calls.</p>
  <h3 id="urls">URLs</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">calls.format</code>
        </td>
        <td>Get a list of calls</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">
            calls.format?contact_id={contact_id}<br />
            contacts/{contact_id}/calls.format
          </code>
        </td>
        <td>Get a list of calls for a contact</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">
            calls.format?company_id={company_id}<br />
            companies/{company_id}/calls.format
          </code>
        </td>
        <td>Get a list of calls for a company</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td>
          <code class="bluetext">calls/{id}.format</code>
        </td>
        <td>Get a single call</td>
      </tr>
      <tr>
        <td><span class="post-text">POST</span></td>
        <td>
          <code class="bluetext">
            calls.format?contact_id={contact_id}<br />
            contacts/{contact_id}/calls.format
          </code>
        </td>
        <td>Create a call</td>
      </tr>
      <tr>
        <td><span class="post-text">POST</span></td>
        <td>
          <code class="bluetext">
            calls.format?contact_id={contact_id}&amp;partial=1<br />
            contacts/{contact_id}/calls.format?partial=1
          </code>
        </td>
        <td>Create a call with unprovided <br />fields filled with default values</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">calls/{id}.format</code>
        </td>
        <td>Update a contact</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">calls/{id}.format?partial=1</code>
        </td>
        <td>Partially update a call</td>
      </tr>
      <tr>
        <td><span class="delete-text">DELETE</span></td>
        <td>
          <code class="bluetext">calls/{id}.format</code>
        </td>
        <td>Delete a call</td>
      </tr>
    </tbody>
  </table>
  <h3 id="listing-fields">Listing Fields</h3>
  <p>The following parameters are supported when fetching a list of calls:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">time</code></td>
        <td><code class="bluetext">date_filter</code></td>
        <td>Filter returned data by a particular field when combined with since and until</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">since</code></td>
        <td>Return resources with dates in the provided date_filter parameter since this time. Otherwise it will return resources that were modified since this time.</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">until</code></td>
        <td>Return resources with dates in the provided date_filter parameter until this time. Otherwise it will return resources that were modified until this time.</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td class="nowrap"><code class="bluetext">unmodified_since</code></td>
        <td>Return only records that were unmodified since specified time</td>
      </tr>
      <tr>
        <td><code class="redtext">time</code></td>
        <td><code class="bluetext">modified_since</code></td>
        <td>Return only records that were modified since specified time</td>
      </tr>
    </tbody>
  </table>
  <h3 id="resource-fields">Resource Fields</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">bson_id</code></td>
        <td><code class="bluetext">id</code></td>
        <td>id of the call. (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">bson_id</code></td>
        <td><code class="bluetext">contact_id</code></td>
        <td>id of the contact this call belongs to. (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">call_result</code></td>
        <td>The result of the call. Default values: 'interested', 'not_interested', 'no_answer' or 'left_message'.
          <br />You can add other values in the main application. You can not add other values with the API.
          <br />If not specified, defaults to 'interested'.</td>
      </tr>
      <tr>
        <td><code class="redtext">integer</code></td>
        <td><code class="bluetext">call_time_int</code></td>
        <td>Time the call occurred at. Must be in unix epoch time format.
        <br />If not specified, defaults to current time.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">text</code></td>
        <td>The text in the note of the call - truncated to 10000 characters.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">via</code></td>
        <td>The external service used to make this call. Values: 'skype', 'jabber', 'talkdesk', 'unknown'. If not specified, defaults 'unknown'.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">author</code></td>
        <td>First name and first letter of last name of the author of the call. (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">recording_link</code></td>
        <td>URL of a recording of the call conversation.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">author</code></td>
        <td>Author's name. The last name is abbreviated. (read only)</td>
      </tr>
    </tbody>
  </table>
{% highlight http %}
GET calls.json?date_filter=created&since=2014-11-18
{% endhighlight %}
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" href="#callsjson">
          Sample <code> GET </code> response from <code>calls.json?date_filter=created&amp;since=2014-11-18</code>
        </a>
      </h4>
    </div>
  <div id="callsjson" class="panel-collapse collapse">
    <div class="panel-body">
{% highlight json %}
{
  "status": 0,
  "message": "OK",
  "timestamp": 1421768772,
  "data": {
    "calls": [
      {
        "call": {
          "id": "54be782f9007ba0d4000001f",
          "contact_id": "54be78129007ba0d40000018",
          "text": "Called Johnny to ask him out on a date.",
          "call_time_int": 1422898214,
          "author": "Owner O.",
          "phone_number": "",
          "via": "unknown",
          "call_result": "conversation",
          "recording_link": "",
          "created_at": "2015-01-20 15:45:51 UTC",
          "modified_at": "2015-01-20 15:45:51 UTC"
        }
      },
      {
        "call": {
          "id": "54be781a9007ba0d4000001c",
          "contact_id": "54be78129007ba0d40000018",
          "text": "Call Momma",
          "call_time_int": 1422898214,
          "author": "Owner O.",
          "phone_number": "",
          "via": "unknown",
          "call_result": "conversation",
          "recording_link": "",
          "created_at": "2015-01-20 15:45:30 UTC",
          "modified_at": "2015-01-20 15:45:30 UTC"
        }
      }
    ],
    "total_count": 2,
    "page": 1,
    "max_page": 1,
    "per_page": 10
  }
}
{% endhighlight %}
      </div>
    </div>
  </div>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="users">Users</h2>
  <p>You can get useful information about other people on your team or you can update your own account information. If you are an administrator you can edit all of your team members details.</p>
  <h3 id="urls">URLs</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">users.format</code></td>
        <td>Get a list of users on your team</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">users/{id}.format</code></td>
        <td>Get information on a single user</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td><code class="bluetext">users/{id}.format</code></td>
        <td>Update a user</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td><code class="bluetext">users/{id}.format?partial=1</code></td>
        <td>Partially update a user</td>
      </tr>
    </tbody>
  </table>
  <div class="overview">
    <p class="overview-title">NOTES:</p>
    <div class="overview-content">
      <ul>
        <li>You can only <strong>update</strong> your own user if you have administrator rights.</li>
        <li>You can’t <strong>update</strong> the company name of any user unless you have administrator rights.</li>
        <li>To <strong>update</strong> a user’s bcc email set <strong>bcc_email=‘new’</strong> in the <span class="put-text">PUT</span> and the user’s current bcc_email will be deactivated and a new one will be provided.</li>
      </ul>
    </div>
  </div>
  <h3 id="resource-fields">Resource Fields</h3>
  <p>Following parameters are supported when fetching a list of notes:</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td><code class="bluetext">first_name</code></code></td>
        <td>First name of user</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">last_name</code></td>
        <td>Last name of user</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">company_name</code></td>
        <td>Name of the company that this user works for<br/>
          (read only, except by administrator).</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">email</code></td>
        <td>Email address (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">bcc_email</code></td>
        <td>Email address of user’s dropbox (You cannot see other users BCC address)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">photo_url</code></td>
        <td>Url of user’s profile picture (read_only)</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td class="nowrap"><code class="bluetext">account_rights</code></td>
        <td>List of permissions this user has</td>
      </tr>
    </tbody>
  </table>
  <div class="overview">
    <p class="overview-title">NOTES:</p>
    <p class="overview-content">You can change the bcc_email by setting the bcc_email to ‘new’ when updating a user.</p>
  </div>
  <h3 id="shortcut-methods">Shortcut Methods</h3>
  <p>These methods make it easier to carry out assigning and unassigning actions to and from users.</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td class="smaller">Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">
            users/{user_id}/assign_action/<br/>
            {action_id}.format
          </code>
        </td>
        <td>Assign the action with id {action_id} to the user<br/> with id {user_id}</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">
            users/{user_id}/unassign_action/<br/>
            {action_id}.format
          </code>
        </td>
        <td>Unassign the action with id {action_id} to the user<br/> with id {user_id}</td>
      </tr>
    </tbody>
  </table>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="companies">Companies</h2>
  <p>The companies endpoint mimics the company view of contacts in the web app. It allows changing the company name and getting contacts and other resources grouped by company.</p>
  <h3 id="main-urls">Main URLs</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">companies.format</code></td>
        <td>Get a list of companies</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">companies/{id}.format</code></td>
        <td>Get a single company</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td><code class="bluetext">companies/{id}.format</code></td>
        <td>Update a company</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">companies/{id}/linked_contacts.format</code></td>
        <td>Get contacts linked with the company</td>
      </tr>
      <tr>
        <td><span class="get-text">POST</span></td>
        <td><code class="bluetext">companies/{id}/linked_contacts.format</code></td>
        <td>Link a contact to the company</td>
      </tr>
      <tr>
        <td><span class="get-text">DELETE</span></td>
        <td><code class="bluetext">companies/{id}/linked_contacts.format</code></td>
        <td>Un-link a contact from the company</td>
      </tr>
    </tbody>
  </table>
  <h3 id="resources">Resources</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td><code class="bluetext">id</code></td>
        <td>Company ID (read only)</td>
      </tr>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td><code class="bluetext">synced_status_id</code></td>
        <td>System id for status synced across this company (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">name</code></td>
        <td>Company name - truncated to 55 characters.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">phone</code></td>
        <td>Company phone</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">url</code></td>
        <td>Company url</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td><code class="bluetext">company_fields</code></td>
        <td>A list of company custom fields</td>
      </tr>
      <tr>
        <td><code class="redtext">object</code></td>
        <td><code class="bluetext">address</code></td>
        <td>Company address</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">description</code></td>
        <td>Company description - truncated to 10000 characters.</td>
      </tr>
      <tr>
        <td><code class="redtext">float</code></td>
        <td><code class="bluetext">total_won_amount</code></td>
        <td>Total monetary amount of deals pending for this company (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">float</code></td>
        <td class="nowrap"><code class="bluetext">total_pending_amount</code></td>
        <td>Total monetary amount of deals pending for this company (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">int</code></td>
        <td class="nowrap"><code class="bluetext">won_deals_count</code></td>
        <td>Number of won deals for this company (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">int</code></td>
        <td class="nowrap"><code class="bluetext">pending_deals_count</code></td>
        <td>Number of pending deals for this company (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">int</code></td>
        <td><code class="bluetext">contacts_count</code></td>
        <td>Number of contacts in this company (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">created_at</code></td>
        <td>The company's creation date (read only)</td>
      </tr>
    </tbody>
  </table>
  <h3 id="associated-resources">Associated Resources</h3>
  <p>You can also have associated resources attached to companies when you <span class="get-text">GET</span> the latter ones.</p>
  <p>Just specify one of the fields listed below in the <code class="bluetext">fields</code> parameter. </p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">array</code></td>
        <td><code class="bluetext">contacts()</code></td>
        <td>Contacts associated with this company</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td class="nowrap"><code class="bluetext">pending_deals()</code></td>
        <td class="nowrap">Pending deals associated with this company with the earliest expected close date first.</td>
      </tr>
    </tbody>
  </table>
  <!-- Sample from GitHub -->
  <h3 id="sample-code">Sample code</h3>
  <div class="sample-code">
    <div class="sample-code-title">Sample JSON server response for companies</div>
    <script src="https://gist.github.com/OnePageCTO/6575061.js?file=companies.json"></script>
  </div>
  <!-- /Sample from GitHub -->
  <p class="url"><strong>URL:</strong> https://app.onepagecrm.com/api/v3/companies.json</p>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="countries">Countries - Beta</h2>
  <p>It is possible to get a list of compatible Countries using the API. The Countries endpoint provides this read-only list.</p>
  <p>Countries and their codes conform to the ISO-3166 international standard. They are returned in alphabetic order based on their ISO-code.</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td class="smaller">Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="put-text">GET</span></td>
        <td>
          <code class="bluetext">countries.format</code>
        </td>
        <td>Get a list of countries</td>
      </tr>
    </tbody>
  </table>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse"  href="#countriessample">
          Sample <code>GET</code> response from <code>countries.json</code>
        </a>
      </h4>
    </div>
    <div id="countriessample" class="panel-collapse collapse">
      <div class="panel-body">
{% highlight json %}
{
  "status": 0,
  "message": "OK",
  "data": {
    "countries": [
      {
        "country": {
          "name": "Andorra",
          "code": "AD",
          "phone_prefix": "+376"
        }
      },
      {
        "country": {
          "name": "United Arab Emirates",
          "code": "AE",
          "phone_prefix": "+971"
        }
      },
      {
        "country": {
          "name": "Afghanistan",
          "code": "AF",
          "phone_prefix": "+93"
        }
      },

      // more countries here

      {
        "country": {
          "name": "Zimbabwe",
          "code": "ZW",
          "phone_prefix": "+263"
        }
      }
    ]
  }
}
{% endhighlight %}
      </div>
    </div>
  </div>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="customfields">Custom Fields</h2>
  <p>Custom fields can be viewed by any user but only created and updated by the Account Owner.</p>
  <div class="overview">
    <p class="overview-title">Important Note:</p>
    <p class="overview-content">Updating a custom field through the API differs from updating through the App.<br/> When you update the list of choices of a custom field with a type of <span class="italic">multiple_choice</span> or <span class="italic">select_box</span> all contacts with this custom_field filled out are updated. The existing selected choice(s) are replaced on the new ones based on their index.</p>
    <p class="overview-title">Example:</p>
    <p class="overview-content">multiple choice custom field with choices <code>= [“a”, “b”, “c”, “d”]</code> is updated to <code>[“1”, “2”, “3”, “4”]</code><br/>
      One contact had the field filled out with choices <code>[“a”,”d”]</code> selected. Now <code>[“1”,”4”]</code> will be selected for the contact after the update.</p>
      <p class="overview-title">Similarly:</p>
    </div>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <td>Old choices</td>
          <td>New choices</td>
          <td>Old selected</td>
          <td>New selected</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>[“a”,”b”,”c”,”d”]</td>
          <td>[“1”,”2”,”3”]</td>
          <td>[“a”,”b”,”c”,”d”]</td>
          <td>[“1”,”2”,”3”]</td>
        </tr>
        <tr>
          <td>[“a”,”b”,”c”,”d”]</td>
          <td>[“3”,”4”]</td>
          <td>[“a”,”c”,”d”]</td>
          <td>[”3”]</td>
        </tr>
        <tr>
          <td>[“a”,”b”,”c”,”d”]</td>
          <td>[“3”,”2”,”1”]</td>
          <td>[“b”,”d”]</td>
          <td>[”2”]</td>
        </tr>
      </tbody>
    </table>
    <h3 id="urls">URLs</h3>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <td>Method</td>
          <td>Url</td>
          <td>Description</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="get-text">GET</span></td>
          <td><code class="bluetext">custom_fields.format</code></td>
          <td>Get a list of custom fields</td>
        </tr>
        <tr>
          <td><span class="get-text">GET</span></td>
          <td><code class="bluetext">custom_fields/{id}.format</code></td>
          <td>Get a single custom field</td>
        </tr>
        <tr>
          <td><span class="post-text">POST</span></td>
          <td><code class="bluetext">custom_fields.format</code></td>
          <td>Create a custom field</td>
        </tr>
        <tr>
          <td><span class="put-text">PUT</span></td>
          <td><code class="bluetext">custom_fields/{id}.format</code></td>
          <td>Update a custom field</td>
        </tr>
        <tr>
          <td><span class="put-text">PUT</span></td>
          <td><code class="bluetext">custom_fields/{id}.format?partial=1</code></td>
          <td>Partially update a custom field</td>
        </tr>
        <tr>
          <td><span class="delete-text">DELETE</span></td>
          <td><code class="bluetext">custom_fields/{id}.format</code></td>
          <td>Delete a custom field</td>
        </tr>
      </tbody>
    </table>
    <h3 id="resource-fields">Resource Fields</h3>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <td>Type</td>
          <td>Name</td>
          <td>Description</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="nowrap"><code class="redtext">bson_id</code></td>
          <td><code class="bluetext">id</code></td>
          <td>ID of the custom field (read only)</td>
        </tr>
        <tr>
          <td class="nowrap"><code class="redtext">string</code></td>
          <td><code class="bluetext">name</code></td>
          <td>Name of the custom field. Used for identification of custom fields.</td>
        </tr>
        <tr>
          <td><code class="redtext">string</code></td>
          <td><code class="bluetext">type</code></td>
          <td>Type of custom field. This can be one ofthe following:
            <span class="italic">multiple_choice, select_box, single_line_text, multi_line_text, date or number</span></td>
          </tr>
          <tr>
            <td><code class="redtext">array</code></td>
            <td class="nowrap"><code class="bluetext">choices</code></td>
            <td>An array of possible choices. This needs to be present only for custom fields of <code class="bluetext">type</code> <span class="italic">multiple_choice</span> or  <span class="italic">select_box</span></td>
          </tr>
          <tr>
            <td><code>integer</code></td>
            <td><code>position</code></td>
            <td>The position of this custom field in the list of custom fields</td>
          </tr>
          <tr>
            <td><code>integer</code></td>
            <td><code>reminder_days</code></td>
            <td>The number of days an anniversary reminder is set for. Only for anniversary type custom fields. It is null for other fields.</td>
          </tr>
        </tbody>
      </table>
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse"  href="#customfieldssample">
              Sample <code> GET </code> response from <code>custom_fields.json</code>
            </a>
          </h4>
        </div>
        <div id="customfieldssample" class="panel-collapse collapse">
          <div class="panel-body">
{% highlight json %}
{
  "status": 0,
  "message": "OK",
  "timestamp": 1409672751,
  "data": {
    "custom_fields": [
      {
        "custom_field": {
          "id": "5405be471787fa6b1f000001",
          "name": "Wedding Anniversary",
          "type": "anniversary",
          "choices": [],
          "position": 0,
          "reminder_days": null
        }
      },
      {
        "custom_field": {
          "id": "5405be521787fa6b1f000008",
          "name": "Groom's Name",
          "type": "single_line_text",
          "choices": [],
          "position": 1,
          "reminder_days": null
        }
      },
      {
        "custom_field": {
          "id": "5405be6c1787fa6b4900000f",
          "name": "Flower description",
          "type": "multi_line_text",
          "choices": [],
          "position": 2,
          "reminder_days": null
        }
      },
      {
        "custom_field": {
          "id": "5405be981787fa6bca000007",
          "name": "Payment type",
          "type": "select_box",
          "choices": [
            "Card",
            "Cheque"
          ],
          "position": 3,
          "reminder_days": null
        }
      },
      {
        "custom_field": {
          "id": "5405bede1787fa6ceb000004",
          "name": "Number of bridesmaids",
          "type": "number",
          "choices": [],
          "position": 4,
          "reminder_days": null
        }
      },
      {
        "custom_field": {
          "id": "5405bef51787fa6ceb000012",
          "name": "Extras",
          "type": "multiple_choice",
          "choices": [
            "Drinks on arrival",
            "Flowers for mothers"
          ],
          "position": 5,
          "reminder_days": null
        }
      },
      {
        "custom_field": {
          "id": "5405bf031787fa6d34000006",
          "name": "Engagement date",
          "type": "date",
          "choices": [],
          "position": 6,
          "reminder_days": null
        }
      }
    ],
    "total_count": 7,
    "page": 1,
    "max_page": 1,
    "per_page": 10
  }
}
{% endhighlight %}
          </div>
        </div>
      </div>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="customfilters">Custom Filters</h2>
  <p>Custom filters allow you to query contacts in your own custom way. These filters can only be created inside the webapp but they can be used through the API to return exactly the contacts you want.</p>
  <h3 id="urls">URLs</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">filters.format</code></td>
        <td>Get a list of custom filters for this account</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">filters/{id}.format</code></td>
        <td>Get a single custom filter</td>
      </tr>
    </tbody>
  </table>
  <h3 id="resource-fields">Resource Fields</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">bson_id</code></td>
        <td><code class="bluetext">id</code></td>
        <td>ID of the custom filter (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">name</code></td>
        <td>Name of the custom filter. Used for identification of custom filters</td>
      </tr>
    </tbody>
  </table>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse"  href="#customfiltersample">
          Sample <code> GET </code> response from <code>filters.json</code>
        </a>
      </h4>
    </div>
    <div id="customfiltersample" class="panel-collapse collapse">
      <div class="panel-body">
{% highlight json %}
{
  "status": 0,
  "message": "OK",
  "timestamp": 1445506771,
  "data": {
    "filters": [
      {
        "filter": {
          "id": "55926afe1787fa370400000b",
          "name": "Lead"
        }
      },
      {
        "filter": {
          "id": "556cb8c91787fa0e24000042",
          "name": "Pending deals"
        }
      },
      {
        "filter": {
          "id": "556cb8c91787fa0e24000041",
          "name": "Prospects with pending deals"
        }
      }
    ],
    "total_count": 3,
    "page": 1,
    "max_page": 1,
    "per_page": 10
  }
}
{% endhighlight %}
      </div>
    </div>
  </div>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="closing-sales-cycle">Closing Sales Cycle - Beta</h2>
  <p>It is possible to close and reopen the Sales Cycle using the API. As these methods are put requests, it is important that the body of the request is not empty. When closing the sales cycle, you can add a closing comment.</p>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td class="smaller">Method</td>
        <td>Url</td>
        <td>Body</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">contacts/{id}/close_sales_cycle.format</code>
        </td>
        <td>
          <code>
          { "comment" : "no interest" }
          </code>
        </td>
        <td>Close the sales cycle</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td>
          <code class="bluetext">contacts/{id}/reopen_sales_cycle.format</code>
        </td>
        <td>
          <code>
            { }
          </code>
        </td>
        <td>Reopen the sales cycle</td>
      </tr>
    </tbody>
  </table>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="leadsources">Lead Sources</h2>
  <p>Lead sources are a way for you to classify the source of any contact that you add to OnePageCRM. Using this resource you can create new lead sources so that you can classify exactly where any lead was pulled from.</p>
  <h3 id="urls">URLs</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code>lead_sources.format</code></td>
        <td>Get a list of lead sources</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code>lead_sources/{id}.format</code></td>
        <td>Get a lead source</td>
      </tr>
      <tr>
        <td><span class="post-text">POST</span></td>
        <td><code>lead_sources.format</code></td>
        <td>Create a lead source</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td><code>lead_sources/{id}.format</code></td>
        <td>Update a lead source name</td>
      </tr>
      <tr>
        <td><span class="delete-text">DELETE</span></td>
        <td><code>lead_sources/{id}.format</code></td>
        <td>Delete a lead source</td>
      </tr>
    </tbody>
  </table>
  <div class="overview">
    <p class="overview-title">NOTES:</p>
    <p class="overview-content">
      Only managers can use the <span class="post-text">POST</span>, <span class="put-text">PUT</span> and <span class="delete-text">DELETE</span> methods<br/>
      You can’t <span class="delete-text">DELETE</span> a lead source if there is only 1 remaining
    </p>
  </div>
  <h3 id="resource-fields">Resource Fields</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code>id</code></td>
        <td>Lead Source ID. This matches the lead_source field in contacts (read only).</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code>text</code></td>
        <td>Lead source text to be displayed.</td>
      </tr>
        </tbody>
      </table>
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse"  href="#leadsourcesjson">
              Sample <code> GET </code> response from <code>lead_sources.json</code>
            </a>
          </h4>
        </div>
        <div id="leadsourcesjson" class="panel-collapse collapse">
          <div class="panel-body">
{% highlight json %}
{
  "status": 0,
  "message": "OK",
  "timestamp": 1412609103,
  "data": [
    {
      "counts": 0,
      "total_count": 0,
      "team_counts": [
        {
          "user_id": "542bff721da417179900004b",
          "counts": 0
        },
        {
          "user_id": "542bfef51da4171799000008",
          "counts": 0
        }
      ],
      "id": "advertisement",
      "text": "Advertisement"
    },
    {
      "counts": 0,
      "total_count": 0,
      "team_counts": [
        {
          "user_id": "542bff721da417179900004b",
          "counts": 0
        },
        {
          "user_id": "542bfef51da4171799000008",
          "counts": 0
        }
      ],
      "id": "email_web",
      "text": "Email or Web"
    },
    {
      "counts": 0,
      "total_count": 0,
      "team_counts": [
        {
          "user_id": "542bff721da417179900004b",
          "counts": 0
        },
        {
          "user_id": "542bfef51da4171799000008",
          "counts": 0
        }
      ],
      "id": "other",
      "text": "Other"
    }
  ]
}
{% endhighlight %}
          </div>
        </div>
      </div>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="contactphoto">Contact Photo - Beta</h2>
  <p>Contact photos can be uploaded using the API.
  It takes a parameter ‘image’, which must be a Base64 encoded string.</p>
  <p>The Base64 encoded string must be a Base64 encoded image file.</p>
  <p>Images will be cropped to a square and resized to 73px.</p>
  <h3 id="urls">URL</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">PUT</span></td>
        <td><code class="bluetext">contacts/#{id}/contact_photo.json</code></td>
        <td>Update contact with this photo</td>
      </tr>
    </tbody>
  </table>
  <h3 id="resource-fields">Resource Fields</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="redtext">Base64 Encoded jpg/png</code></td>
        <td class="nowrap"><code class="bluetext">image</code></td>
        <td>A base64 encoded jpg or png image file</td>
      </tr>
    </tbody>
  </table>
  <h3 id="response">Response</h3>
{% highlight json %}
{
  "status" : 0,
  "message" : "OK",
  "timestamp" : 1401350305,
  "data" :
    {"contact" :
      {"id" : "5384753e1da41754eb000015",
       "photo_url" :
        "https://onepagecrm-uploads.s3.amazonaws.com/5384753e1da41754eb000015/1401350304000/5386e8a01da4170ce500000e.png"
      }
    }
}
{% endhighlight %}
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="statuses">Statuses</h2>
  <p>Statuses are a way of qualifying where your contacts are in your sales pipeline. This endpoint allows you to view statuses so that you can convert the status key returned with contacts to the actual text of the status. Managers have more control and can create new statuses, update the text, color and description or delete statuses.</p>
  <h3 id="urls">URLs</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">statuses.format</code></td>
        <td>Get a list of statuses</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">statuses/{id}.format</code></td>
        <td>Get a status and a list of contacts with this status</td>
      </tr>
      <tr>
        <td><span class="post-text">POST</span></td>
        <td><code class="bluetext">statuses.format</code></td>
        <td>Create a status</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td><code class="bluetext">statuses/{id}.format</code></td>
        <td>Update a status</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td><code class="bluetext">statuses/{id}.format?partial=1</code></td>
        <td>Partially update a status</td>
      </tr>
      <tr>
        <td><span class="delete-text">DELETE</span></td>
        <td><code class="bluetext">statuses/{id}.format</code></td>
        <td>Delete a status</td>
      </tr>
    </tbody>
  </table>
  <div class="overview">
    <p class="overview-title">NOTES:</p>
    <p class="overview-content">
      Only managers can use the <span class="post-text">POST</span>, <span class="put-text">PUT</span> and <span class="delete-text">DELETE</span> methods<br/>
      When a <span class="delete-text">DELETE</span> request succeeds all contacts with that status become leads
    </p>
  </div>
  <h3 id="resource-fields">Resource Fields</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td><code class="bluetext">id</code></td>
        <td>Status ID. This matches the status field in contacts (read only).</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">text</code></td>
        <td>Status text to be displayed.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">description</code></td>
        <td>A description of what this status is for.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">color</code></td>
        <td>Six character hex representation of the status text color. A list of valid colors is below.</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">counts</code></td>
        <td>Number of contacts the api user has with this status
          (read only).</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">total_count</code></td>
        <td>Number of contacts this user’s team has with this status (read only).</td>
      </tr>
      <tr>
        <td><code class="redtext">array</code></td>
        <td class="nowrap"><code class="bluetext">team_counts</code></td>
        <td>Number of contacts with this status grouped by user.
          Every item is a <span class="redtext">hash</span> with 2 elements:
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <td>Type</td>
                <td>Name</td>
                <td>Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code class="redtext">string</code></td>
                <td><code class="bluetext">counts</code></td>
                <td>Number of contacts the following user owns with this status (read_only)</td>
              </tr>
              <tr>
                <td class="nowrap"><code class="redtext">string</code></td>
                <td class="nowrap"><code class="bluetext">user_id</code></td>
                <td>ID of one ot the api user’s team members (read_only)</td>
              </tr>
            </tbody>
          </table>
        </td>
      </tr>
  </table>
  <h3> Optional Contact Count </h3>
  <p>The OnePageCRM web application also shows the number of contacts has actions with or owns.</p>
  <p>This is the sum of all contacts owned by that user and all other team members contacts that the current user has actions with.
  You can retrieve this count by adding a parameter <code>action_stream_count</code> to the statuses url. This is a boolean parameter and takes the value <code>1</code> or <code>true</code></p>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse"  href="#statusactioncount">
          Sample <code> GET </code> response from <code>statuses.json?action_stream_count=true</code>
        </a>
      </h4>
    </div>
    <div id="statusactioncount" class="panel-collapse collapse">
      <div class="panel-body">
{% highlight json %}
{
  "status": 0,
  "message": "OK",
  "timestamp": 1408440334,
  "data": [
    {
      "status": {
        "counts": 4,
        "total_count": 4,
        "team_counts": [
          {
            "user_id": "53d110de1da417788100000d",
            "counts": 0
          },
          {
            "user_id": "53b66a221da41710e9000001",
            "counts": 4
          }
        ],
        "id": "53b66a2e1da41710e9000004",
        "status": "lead",
        "text": "Lead",
        "description": "description",
        "color": "f96600",
        "action_stream_count": 4
      }
    }
  ]
}
{% endhighlight %}
      </div>
    </div>
  </div>


  <h3 id="valid-color-strings">Valid Color Strings</h3>
  <table class="table table-bordered">
    <thead>
      <tr>
        <td>Hex</td>
        <td>Color</td>
        <td>Hex</td>
        <td>Color</td>
        <td>Hex</td>
        <td>Color</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>666666</td>
        <td class="color-666666"><span></span></td>
        <td>3399ff</td>
        <td class="color-3399ff"><span></span></td>
         <td>cc0000</td>
        <td class="color-cc0000"><span></span></td>
      </tr>
      <tr>
        <td>f96600</td>
        <td class="color-f96600"><span></span></td>
        <td>000000</td>
        <td class="color-000000"><span></span></td>
        <td>ff00ff</td>
        <td class="color-ff00ff"><span></span></td>
      </tr>
      <tr>
        <td>009900</td>
        <td class="color-009900"><span></span></td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
  </table>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse"  href="#statusesjson">
          Sample <code> GET </code> response from <code>statuses.json</code>
        </a>
      </h4>
    </div>
    <div id="statusesjson" class="panel-collapse collapse">
      <div class="panel-body">
{% highlight json %}
  {
  "status": 0,
  "message": "OK",
  "timestamp": 1412609627,
  "data": [
    {
      "status": {
        "counts": 3,
        "total_count": 3,
        "team_counts": [
          {
            "user_id": "542bff721da417179900004b",
            "counts": 0
          },
          {
            "user_id": "542bfef51da4171799000008",
            "counts": 3
          }
        ],
        "id": "542bff241da417179900000c",
        "status": "lead",
        "text": "Lead",
        "description": "You intend to sell to.",
        "color": "f96600"
      }
    },
    {
      "status": {
        "counts": 0,
        "total_count": 0,
        "team_counts": [
          {
            "user_id": "542bff721da417179900004b",
            "counts": 0
          },
          {
            "user_id": "542bfef51da4171799000008",
            "counts": 0
          }
        ],
        "id": "542bff241da417179900000d",
        "status": "prospect",
        "text": "Prospect",
        "description": "You are actively selling to.",
        "color": "cc0000"
      }
    },
    {
      "status": {
        "counts": 0,
        "total_count": 0,
        "team_counts": [
          {
            "user_id": "542bff721da417179900004b",
            "counts": 0
          },
          {
            "user_id": "542bfef51da4171799000008",
            "counts": 0
          }
        ],
        "id": "542bff241da417179900000e",
        "status": "customer",
        "text": "Customer",
        "description": "You have had a transaction with.",
        "color": "3399ff"
      }
    },
    {
      "status": {
        "counts": 0,
        "total_count": 0,
        "team_counts": [
          {
            "user_id": "542bff721da417179900004b",
            "counts": 0
          },
          {
            "user_id": "542bfef51da4171799000008",
            "counts": 0
          }
        ],
        "id": "542bff241da417179900000f",
        "status": "inactive",
        "text": "Inactive",
        "description": "You are not actively selling to.",
        "color": "666666"
      }
    },
    {
      "status": {
        "counts": 0,
        "total_count": 0,
        "team_counts": [
          {
            "user_id": "542bff721da417179900004b",
            "counts": 0
          },
          {
            "user_id": "542bfef51da4171799000008",
            "counts": 0
          }
        ],
        "id": "542bff241da4171799000010",
        "status": "general",
        "text": "General",
        "description": "Non-sales related contacts.",
        "color": "000000"
      }
    }
  ]
}
{% endhighlight %}
      </div>
    </div>
  </div>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>


<div class="api-element">
  <h2 class="top-padding" id="tags">Tags</h2>
  <p>Tags provide a means to classify contacts by however many tags you choose to attach to them. This endpoint allows you to manage your tags.</p>
  <p>The methods here allow you to:</p>
  <ul>
    <li>Get a list of all tags and information about how many contacts have that tag.</li>
    <li>Get information about a single tag and the contacts associated with it.</li>
    <li>Create a new tag where no contacts have it assigned to them yet.</li>
    <li>Update the name of a tag and have that new name be reflected for all contacts with it.</li>
    <li>Delete a tag and have it removed from all contacts.</li>
    <li>Undo the deletion of a tag restoring it to all contacts who had it when it was deleted.</li>
  </ul>

  <h3 id="urls">URLs</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Method</td>
        <td>Url</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">tags.format</code></td>
        <td>Get a list of tags</td>
      </tr>
      <tr>
        <td><span class="get-text">GET</span></td>
        <td><code class="bluetext">tags/{name}.format</code></td>
        <td>Get a tag and a list of contacts with this tag</td>
      </tr>
      <tr>
        <td><span class="post-text">POST</span></td>
        <td><code class="bluetext">tags.format</code></td>
        <td>Create a new tag</td>
      </tr>
      <tr>
        <td><span class="put-text">PUT</span></td>
        <td><code class="bluetext">tags/{name}.format</code></td>
        <td>Update a tag name</td>
      </tr>
      <tr>
        <td><span class="delete-text">DELETE</span></td>
        <td><code class="bluetext">tags/{name}.format</code></td>
        <td class="nowrap">Delete a tag. This removes that tag from all contacts that had it.</td>
      </tr>
      <tr>
        <td><span class="delete-text">DELETE</span></td>
        <td class="nowrap"><code class="bluetext">tags/{name}.format?undo=1</code></td>
        <td>Undo deletion of a tag</td>
      </tr>
    </tbody>
  </table>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse"  href="#tagsjson">
          Sample <code> GET </code> response from <code>tags.json</code>
        </a>
      </h4>
    </div>
    <div id="tagsjson" class="panel-collapse collapse">
      <div class="panel-body">
{% highlight json %}
{
  "status": 0,
  "message": "OK",
  "timestamp": 1406884621,
  "data": {
    "tags": [
      {
        "name": "goodlead",
        "counts": 4,
        "total_count": 4
      },
      {
        "name": "VIP",
        "counts": 0,
        "total_count": 0
      }
    ],
    "system_tags": [
      {
        "name": "pendings",
        "counts": 0,
        "total_count": 0
      },
      {
        "name": "starred",
        "counts": 0,
        "total_count": 0
      },
      {
        "name": "waiting",
        "counts": 0,
        "total_count": 0
      }
    ]
  }
}
{% endhighlight %}
      </div>
    </div>
  </div>
  <p class="overview">
    <strong>NOTES:</strong> If you don’t urlencode the {name} then it is possible that an error will be thrown.
  </p>
  <h3 id="resource-fields">Resource Fields</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <td>Type</td>
        <td>Name</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="nowrap"><code class="redtext">string</code></td>
        <td><code class="bluetext">name</code></td>
        <td>Status text to be displayed</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td><code class="bluetext">counts</code></td>
        <td>Number of contacts the api user has with this lead_source
          (read only)</td>
      </tr>
      <tr>
        <td><code class="redtext">string</code></td>
        <td class="nowrap"><code class="bluetext">total_count</code></td>
        <td>Number of contacts this user’s team has with this lead_source (read only)</td>
      </tr>
    </tbody>
  </table>
  <span class="row"><a class="pull-right btn btn-default" href="#top">Back To Top</a></span>
</div>

</div>
